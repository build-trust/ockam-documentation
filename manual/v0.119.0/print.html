<!DOCTYPE HTML>
<html lang="en" class="rust" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Ockam Command Manual</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('rust')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="ockam.html"><strong aria-hidden="true">1.</strong> ockam</a></li><li class="chapter-item "><a href="ockam-enroll.html"><strong aria-hidden="true">2.</strong> enroll</a></li><li class="chapter-item "><a href="ockam-space.html"><strong aria-hidden="true">3.</strong> space</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-space-create.html"><strong aria-hidden="true">3.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-space-delete.html"><strong aria-hidden="true">3.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-space-list.html"><strong aria-hidden="true">3.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-space-show.html"><strong aria-hidden="true">3.4.</strong> show</a></li></ol></li><li class="chapter-item "><a href="ockam-project.html"><strong aria-hidden="true">4.</strong> project</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-project-create.html"><strong aria-hidden="true">4.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-project-import.html"><strong aria-hidden="true">4.2.</strong> import</a></li><li class="chapter-item "><a href="ockam-project-delete.html"><strong aria-hidden="true">4.3.</strong> delete</a></li><li class="chapter-item "><a href="ockam-project-list.html"><strong aria-hidden="true">4.4.</strong> list</a></li><li class="chapter-item "><a href="ockam-project-show.html"><strong aria-hidden="true">4.5.</strong> show</a></li><li class="chapter-item "><a href="ockam-project-version.html"><strong aria-hidden="true">4.6.</strong> version</a></li><li class="chapter-item "><a href="ockam-project-ticket.html"><strong aria-hidden="true">4.7.</strong> ticket</a></li><li class="chapter-item "><a href="ockam-project-addon.html"><strong aria-hidden="true">4.8.</strong> addon</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-project-addon-list.html"><strong aria-hidden="true">4.8.1.</strong> list</a></li><li class="chapter-item "><a href="ockam-project-addon-disable.html"><strong aria-hidden="true">4.8.2.</strong> disable</a></li><li class="chapter-item "><a href="ockam-project-addon-configure.html"><strong aria-hidden="true">4.8.3.</strong> configure</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-project-addon-configure-okta.html"><strong aria-hidden="true">4.8.3.1.</strong> okta</a></li><li class="chapter-item "><a href="ockam-project-addon-configure-influxdb.html"><strong aria-hidden="true">4.8.3.2.</strong> influxdb</a></li><li class="chapter-item "><a href="ockam-project-addon-configure-confluent.html"><strong aria-hidden="true">4.8.3.3.</strong> confluent</a></li><li class="chapter-item "><a href="ockam-project-addon-configure-instaclustr-kafka.html"><strong aria-hidden="true">4.8.3.4.</strong> instaclustr-kafka</a></li><li class="chapter-item "><a href="ockam-project-addon-configure-aiven-kafka.html"><strong aria-hidden="true">4.8.3.5.</strong> aiven-kafka</a></li><li class="chapter-item "><a href="ockam-project-addon-configure-redpanda.html"><strong aria-hidden="true">4.8.3.6.</strong> redpanda</a></li><li class="chapter-item "><a href="ockam-project-addon-configure-warpstream.html"><strong aria-hidden="true">4.8.3.7.</strong> warpstream</a></li><li class="chapter-item "><a href="ockam-project-addon-configure-kafka.html"><strong aria-hidden="true">4.8.3.8.</strong> kafka</a></li></ol></li></ol></li><li class="chapter-item "><a href="ockam-project-enroll.html"><strong aria-hidden="true">4.9.</strong> enroll</a></li></ol></li><li class="chapter-item "><a href="ockam-sidecar.html"><strong aria-hidden="true">5.</strong> sidecar</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-sidecar-secure-relay-inlet.html"><strong aria-hidden="true">5.1.</strong> secure-relay-inlet</a></li><li class="chapter-item "><a href="ockam-sidecar-secure-relay-outlet.html"><strong aria-hidden="true">5.2.</strong> secure-relay-outlet</a></li></ol></li><li class="chapter-item "><a href="ockam-share.html"><strong aria-hidden="true">6.</strong> share</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-share-accept.html"><strong aria-hidden="true">6.1.</strong> accept</a></li><li class="chapter-item "><a href="ockam-share-create.html"><strong aria-hidden="true">6.2.</strong> create</a></li><li class="chapter-item "><a href="ockam-share-list.html"><strong aria-hidden="true">6.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-share-revoke.html"><strong aria-hidden="true">6.4.</strong> revoke</a></li><li class="chapter-item "><a href="ockam-share-service.html"><strong aria-hidden="true">6.5.</strong> service</a></li><li class="chapter-item "><a href="ockam-share-show.html"><strong aria-hidden="true">6.6.</strong> show</a></li></ol></li><li class="chapter-item "><a href="ockam-node.html"><strong aria-hidden="true">7.</strong> node</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-node-create.html"><strong aria-hidden="true">7.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-node-delete.html"><strong aria-hidden="true">7.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-node-list.html"><strong aria-hidden="true">7.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-node-logs.html"><strong aria-hidden="true">7.4.</strong> logs</a></li><li class="chapter-item "><a href="ockam-node-show.html"><strong aria-hidden="true">7.5.</strong> show</a></li><li class="chapter-item "><a href="ockam-node-start.html"><strong aria-hidden="true">7.6.</strong> start</a></li><li class="chapter-item "><a href="ockam-node-stop.html"><strong aria-hidden="true">7.7.</strong> stop</a></li><li class="chapter-item "><a href="ockam-node-default.html"><strong aria-hidden="true">7.8.</strong> default</a></li></ol></li><li class="chapter-item "><a href="ockam-worker.html"><strong aria-hidden="true">8.</strong> worker</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-worker-list.html"><strong aria-hidden="true">8.1.</strong> list</a></li></ol></li><li class="chapter-item "><a href="ockam-message.html"><strong aria-hidden="true">9.</strong> message</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-message-send.html"><strong aria-hidden="true">9.1.</strong> send</a></li></ol></li><li class="chapter-item "><a href="ockam-relay.html"><strong aria-hidden="true">10.</strong> relay</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-relay-create.html"><strong aria-hidden="true">10.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-relay-list.html"><strong aria-hidden="true">10.2.</strong> list</a></li><li class="chapter-item "><a href="ockam-relay-show.html"><strong aria-hidden="true">10.3.</strong> show</a></li><li class="chapter-item "><a href="ockam-relay-delete.html"><strong aria-hidden="true">10.4.</strong> delete</a></li></ol></li><li class="chapter-item "><a href="ockam-tcp-listener.html"><strong aria-hidden="true">11.</strong> tcp-listener</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-tcp-listener-create.html"><strong aria-hidden="true">11.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-tcp-listener-delete.html"><strong aria-hidden="true">11.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-tcp-listener-list.html"><strong aria-hidden="true">11.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-tcp-listener-show.html"><strong aria-hidden="true">11.4.</strong> show</a></li></ol></li><li class="chapter-item "><a href="ockam-tcp-connection.html"><strong aria-hidden="true">12.</strong> tcp-connection</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-tcp-connection-create.html"><strong aria-hidden="true">12.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-tcp-connection-delete.html"><strong aria-hidden="true">12.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-tcp-connection-list.html"><strong aria-hidden="true">12.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-tcp-connection-show.html"><strong aria-hidden="true">12.4.</strong> show</a></li></ol></li><li class="chapter-item "><a href="ockam-tcp-outlet.html"><strong aria-hidden="true">13.</strong> tcp-outlet</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-tcp-outlet-create.html"><strong aria-hidden="true">13.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-tcp-outlet-delete.html"><strong aria-hidden="true">13.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-tcp-outlet-list.html"><strong aria-hidden="true">13.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-tcp-outlet-show.html"><strong aria-hidden="true">13.4.</strong> show</a></li></ol></li><li class="chapter-item "><a href="ockam-tcp-inlet.html"><strong aria-hidden="true">14.</strong> tcp-inlet</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-tcp-inlet-create.html"><strong aria-hidden="true">14.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-tcp-inlet-delete.html"><strong aria-hidden="true">14.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-tcp-inlet-list.html"><strong aria-hidden="true">14.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-tcp-inlet-show.html"><strong aria-hidden="true">14.4.</strong> show</a></li></ol></li><li class="chapter-item "><a href="ockam-kafka-outlet.html"><strong aria-hidden="true">15.</strong> kafka-outlet</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-kafka-outlet-create.html"><strong aria-hidden="true">15.1.</strong> create</a></li></ol></li><li class="chapter-item "><a href="ockam-kafka-consumer.html"><strong aria-hidden="true">16.</strong> kafka-consumer</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-kafka-consumer-create.html"><strong aria-hidden="true">16.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-kafka-consumer-delete.html"><strong aria-hidden="true">16.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-kafka-consumer-list.html"><strong aria-hidden="true">16.3.</strong> list</a></li></ol></li><li class="chapter-item "><a href="ockam-kafka-direct.html"><strong aria-hidden="true">17.</strong> kafka-direct</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-kafka-direct-create.html"><strong aria-hidden="true">17.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-kafka-direct-delete.html"><strong aria-hidden="true">17.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-kafka-direct-list.html"><strong aria-hidden="true">17.3.</strong> list</a></li></ol></li><li class="chapter-item "><a href="ockam-kafka-producer.html"><strong aria-hidden="true">18.</strong> kafka-producer</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-kafka-producer-create.html"><strong aria-hidden="true">18.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-kafka-producer-delete.html"><strong aria-hidden="true">18.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-kafka-producer-list.html"><strong aria-hidden="true">18.3.</strong> list</a></li></ol></li><li class="chapter-item "><a href="ockam-secure-channel-listener.html"><strong aria-hidden="true">19.</strong> secure-channel-listener</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-secure-channel-listener-create.html"><strong aria-hidden="true">19.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-secure-channel-listener-delete.html"><strong aria-hidden="true">19.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-secure-channel-listener-list.html"><strong aria-hidden="true">19.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-secure-channel-listener-show.html"><strong aria-hidden="true">19.4.</strong> show</a></li></ol></li><li class="chapter-item "><a href="ockam-secure-channel.html"><strong aria-hidden="true">20.</strong> secure-channel</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-secure-channel-create.html"><strong aria-hidden="true">20.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-secure-channel-delete.html"><strong aria-hidden="true">20.2.</strong> delete</a></li><li class="chapter-item "><a href="ockam-secure-channel-list.html"><strong aria-hidden="true">20.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-secure-channel-show.html"><strong aria-hidden="true">20.4.</strong> show</a></li></ol></li><li class="chapter-item "><a href="ockam-vault.html"><strong aria-hidden="true">21.</strong> vault</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-vault-create.html"><strong aria-hidden="true">21.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-vault-move.html"><strong aria-hidden="true">21.2.</strong> move</a></li><li class="chapter-item "><a href="ockam-vault-show.html"><strong aria-hidden="true">21.3.</strong> show</a></li><li class="chapter-item "><a href="ockam-vault-delete.html"><strong aria-hidden="true">21.4.</strong> delete</a></li><li class="chapter-item "><a href="ockam-vault-list.html"><strong aria-hidden="true">21.5.</strong> list</a></li></ol></li><li class="chapter-item "><a href="ockam-identity.html"><strong aria-hidden="true">22.</strong> identity</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-identity-create.html"><strong aria-hidden="true">22.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-identity-show.html"><strong aria-hidden="true">22.2.</strong> show</a></li><li class="chapter-item "><a href="ockam-identity-list.html"><strong aria-hidden="true">22.3.</strong> list</a></li><li class="chapter-item "><a href="ockam-identity-default.html"><strong aria-hidden="true">22.4.</strong> default</a></li><li class="chapter-item "><a href="ockam-identity-delete.html"><strong aria-hidden="true">22.5.</strong> delete</a></li></ol></li><li class="chapter-item "><a href="ockam-credential.html"><strong aria-hidden="true">23.</strong> credential</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-credential-list.html"><strong aria-hidden="true">23.1.</strong> list</a></li><li class="chapter-item "><a href="ockam-credential-issue.html"><strong aria-hidden="true">23.2.</strong> issue</a></li><li class="chapter-item "><a href="ockam-credential-store.html"><strong aria-hidden="true">23.3.</strong> store</a></li><li class="chapter-item "><a href="ockam-credential-verify.html"><strong aria-hidden="true">23.4.</strong> verify</a></li></ol></li><li class="chapter-item "><a href="ockam-authority.html"><strong aria-hidden="true">24.</strong> authority</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-authority-create.html"><strong aria-hidden="true">24.1.</strong> create</a></li></ol></li><li class="chapter-item "><a href="ockam-policy.html"><strong aria-hidden="true">25.</strong> policy</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-policy-create.html"><strong aria-hidden="true">25.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-policy-show.html"><strong aria-hidden="true">25.2.</strong> show</a></li><li class="chapter-item "><a href="ockam-policy-delete.html"><strong aria-hidden="true">25.3.</strong> delete</a></li><li class="chapter-item "><a href="ockam-policy-list.html"><strong aria-hidden="true">25.4.</strong> list</a></li></ol></li><li class="chapter-item "><a href="ockam-lease.html"><strong aria-hidden="true">26.</strong> lease</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-lease-create.html"><strong aria-hidden="true">26.1.</strong> create</a></li><li class="chapter-item "><a href="ockam-lease-list.html"><strong aria-hidden="true">26.2.</strong> list</a></li><li class="chapter-item "><a href="ockam-lease-show.html"><strong aria-hidden="true">26.3.</strong> show</a></li><li class="chapter-item "><a href="ockam-lease-revoke.html"><strong aria-hidden="true">26.4.</strong> revoke</a></li></ol></li><li class="chapter-item "><a href="ockam-status.html"><strong aria-hidden="true">27.</strong> status</a></li><li class="chapter-item "><a href="ockam-reset.html"><strong aria-hidden="true">28.</strong> reset</a></li><li class="chapter-item "><a href="ockam-completion.html"><strong aria-hidden="true">29.</strong> completion</a></li><li class="chapter-item "><a href="ockam-environment.html"><strong aria-hidden="true">30.</strong> environment</a></li><li class="chapter-item "><a href="ockam-flow-control.html"><strong aria-hidden="true">31.</strong> flow-control</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ockam-flow-control-add-consumer.html"><strong aria-hidden="true">31.1.</strong> add-consumer</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Ockam Command Manual</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="ockam"><a class="header" href="#ockam">ockam</a></h2>
<hr />
<p><code>ockam [OPTIONS] &lt;COMMAND&gt;</code></p>
<p>Orchestrate end-to-end encryption, mutual authentication, key management,
credential management, and authorization policy enforcement — at scale.</p>
<p>Modern applications are distributed and have an unwieldy number of
interconnections that must trustfully exchange data. Ockam makes it simple
to build secure by-design applications that have granular control over every
trust and access decision.</p>
<h3 id="subcommands"><a class="header" href="#subcommands">Subcommands</a></h3>
<ul>
<li><a href="ockam-enroll.html">enroll</a></li>
<li><a href="ockam-space.html">space</a></li>
<li><a href="ockam-project.html">project</a></li>
<li><a href="ockam-sidecar.html">sidecar</a></li>
<li><a href="ockam-share.html">share</a></li>
<li><a href="ockam-node.html">node</a></li>
<li><a href="ockam-worker.html">worker</a></li>
<li><a href="ockam-message.html">message</a></li>
<li><a href="ockam-relay.html">relay</a></li>
<li><a href="ockam-tcp-listener.html">tcp-listener</a></li>
<li><a href="ockam-tcp-connection.html">tcp-connection</a></li>
<li><a href="ockam-tcp-outlet.html">tcp-outlet</a></li>
<li><a href="ockam-tcp-inlet.html">tcp-inlet</a></li>
<li><a href="ockam-kafka-outlet.html">kafka-outlet</a></li>
<li><a href="ockam-kafka-consumer.html">kafka-consumer</a></li>
<li><a href="ockam-kafka-direct.html">kafka-direct</a></li>
<li><a href="ockam-kafka-producer.html">kafka-producer</a></li>
<li><a href="ockam-secure-channel-listener.html">secure-channel-listener</a></li>
<li><a href="ockam-secure-channel.html">secure-channel</a></li>
<li><a href="ockam-vault.html">vault</a></li>
<li><a href="ockam-identity.html">identity</a></li>
<li><a href="ockam-credential.html">credential</a></li>
<li><a href="ockam-authority.html">authority</a></li>
<li><a href="ockam-policy.html">policy</a></li>
<li><a href="ockam-lease.html">lease</a></li>
<li><a href="ockam-status.html">status</a></li>
<li><a href="ockam-reset.html">reset</a></li>
<li><a href="ockam-completion.html">completion</a></li>
<li><a href="ockam-environment.html">environment</a></li>
<li><a href="ockam-flow-control.html">flow-control</a></li>
</ul>
<h3 id="examples"><a class="header" href="#examples">Examples</a></h3>
<p>Let's walk through a simple example to create an end-to-end encrypted,
mutually authenticated, secure and private cloud relay – for any application.</p>
<p>First let's enroll with Ockam Orchestrator where we'll create a managed cloud
based relay that will move end-to-end encrypted data between distributed parts
of our application.</p>
<pre><code class="language-sh"># Create a cryptographic identity and enroll with Ockam Orchestrator.
# This will sign you up for an account with Ockam Orchestrator and setup a
# hobby space and project for you.
$ ockam enroll
</code></pre>
<p>You can also create encrypted relays outside the orchestrator.
See <code>ockam relay --help</code>.</p>
<h4 id="application-service"><a class="header" href="#application-service">Application Service</a></h4>
<p>Next let's prepare the service side of our application.</p>
<pre><code class="language-sh"># Start our application service, listening on a local ip and port, that clients
# would access through the cloud relay. We'll use a simple http server for our
# first example but this could be some other application service.
$ python3 -m http.server --bind 127.0.0.1 5000

# Setup an ockam node, called blue, as a sidecar next to our application service.
$ ockam node create blue

# Create a tcp outlet on the blue node to send raw tcp traffic to the application service.
$ ockam tcp-outlet create --at /node/blue --to 127.0.0.1:5000

# Then create a relay at your default orchestrator project to blue.
$ ockam relay create blue --to /node/blue
</code></pre>
<h4 id="application-client"><a class="header" href="#application-client">Application Client</a></h4>
<p>Now on the client side</p>
<pre><code class="language-sh"># Setup an ockam node, called green, as a sidecar next to our application service.
$ ockam node create green

# Then create an end-to-end encrypted secure channel with blue, through the cloud relay.
# Then tunnel traffic from a local tcp inlet through this end-to-end secure channel.
$ ockam secure-channel create --from /node/green \\
    --to /project/default/service/forward_to_blue/service/api \\
        | ockam tcp-inlet create --at /node/green --from 127.0.0.1:7000 --to -/service/outlet

# Access the application service though the end-to-end encrypted, secure relay.
$ curl 127.0.0.1:7000
</code></pre>
<p>We just created end-to-end encrypted, mutually authenticated, and authorized
secure communication between a tcp client and server. This client and server
can be running in separate private networks / NATs. We didn't have to expose
our server by opening a port on the Internet or punching a hole in our firewall.</p>
<p>The two sides authenticated and authorized each other's known, cryptographically
provable identifiers. In later examples we'll see how we can build granular,
attribute-based access control with authorization policies.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-enroll"><a class="header" href="#ockam-enroll">ockam enroll</a></h2>
<hr />
<p><code>ockam enroll [OPTIONS] </code></p>
<p>The <code>enroll</code> command enrolls your Ockam Identity with Ockam Orchestrator.</p>
<p>It involves multiple steps. In the first step, if you specify an Identity using the <code>--identity</code> argument, the command uses it. If you don't specify an Identity, it checks if you have a default Identity. If you have one, the command uses this default Identity. If you do not have a default Identity, the command generates a new Identity in your default Vault. If you do not have a default Vault, the command creates a new one on your file system, makes it the default Vault, and uses it to store the private keys of your new Identity.</p>
<p>You will also need to use your web browser to type in a one-time code in order to activate the machine you are using to run the <code>enroll</code> command. You will then be required to log in to your Orchestrator account to complete activating this machine. To do so, you can choose to authenticate using GitHub or create a new email and password. If you choose the latter, then you will need to verify your email address.</p>
<p>Orchestrator is a SaaS product that allows remote relays, add-ons integration like Confluent, Okta, etc. If this is your first time signing in, the Orchestrator creates a new dedicated Space and Project for you. A Project offers two services: a Membership Authority and a Relay service.</p>
<p>The <code>enroll</code> command then asks this Project’s Membership Authority to sign and issue a Credential that attests that your Identifier is a member of this Project. Since your account in Orchestrator is the creator and hence first administrator on this new Project, the Membership Authority issues this Credential. The command stores the Credential for later use and exits.</p>
<h3 id="options"><a class="header" href="#options">Options</a></h3>
<ul>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
The name of an existing Ockam Identity that you wish to enroll. You can use <code>ockam identity list</code> to get a list of existing Identities. To create a new Identity, use <code>ockam identity create</code>. If you don't specify an Identity, and you don't have a default Identity, this command will create a default Identity for you and save it locally in a default Vault</p>
</li>
<li>
<p><code>--authorization-code-flow</code> (optional)<br/>
This option allows you to bypass pasting the one-time code and confirming device activation, and PKCE (Proof Key for Code Exchange) authorization flow. Please be careful with this option since it will open your default system browser. This option might be useful if you have already enrolled and want to re-enroll using the same account information</p>
</li>
<li>
<p><code>--force</code> (optional)<br/>
By default this command skips the enrollment process if the Identity you specified (using <code>--identity</code>), or the default Identity, is already enrolled, by checking its status. Use this flag to force the execution of the Identity enrollment process</p>
</li>
<li>
<p><code>--skip-resource-creation</code> (optional)<br/>
Use this flag to skip creating Orchestrator resources. When you use this flag, we only check whether the Orchestrator resources are created. And if they are not, we will continue without creating them</p>
</li>
</ul>
<h3 id="examples-1"><a class="header" href="#examples-1">Examples</a></h3>
<pre><code class="language-sh">$ ockam enroll
</code></pre>
<p>To create your own identity and enroll with it, run:</p>
<pre><code class="language-sh">ockam identity create my_id
ockam enroll --identity my_id
</code></pre>
<h4 id="troubleshoot"><a class="header" href="#troubleshoot">Troubleshoot:</a></h4>
<p>If you have problems with your enrollment, please run <code>ockam reset --yes &amp;&amp; ockam enroll</code> to delete your local state and start again. You can also reach out to us on Discord to ask for help https://discord.ockam.io.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-space"><a class="header" href="#ockam-space">ockam space</a></h2>
<hr />
<p><code>ockam space &lt;COMMAND&gt; </code></p>
<p>In Ockam, a space is an infinitely scalable Ockam Node in the cloud that can be created, managed, and scaled by Ockam Orchestrator. Spaces offer services such as creating projects within a space, inviting teammates to it, or attaching payment subscriptions.</p>
<p>When you enroll in Ockam for the first time, a space is created for you to host your projects.</p>
<h3 id="subcommands-1"><a class="header" href="#subcommands-1">Subcommands</a></h3>
<ul>
<li><a href="ockam-space-create.html">create</a></li>
<li><a href="ockam-space-delete.html">delete</a></li>
<li><a href="ockam-space-list.html">list</a></li>
<li><a href="ockam-space-show.html">show</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="space-create"><a class="header" href="#space-create">space create</a></h2>
<hr />
<p><code>ockam space create [OPTIONS] [SPACE_NAME] [-- &lt;ADMINS&gt;...] </code></p>
<p>This command will create a new space. If the space already exists, it will just fetch it and show its details.</p>
<h3 id="arguments"><a class="header" href="#arguments">Arguments</a></h3>
<ul>
<li>
<p><code>[SPACE_NAME]</code> (optional)<br/>
Name of the space - must be unique across all Ockam Orchestrator users</p>
</li>
<li>
<p><code>[ADMINS]</code> (optional)<br/>
Administrators for this space</p>
</li>
</ul>
<h3 id="options-1"><a class="header" href="#options-1">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<h3 id="examples-2"><a class="header" href="#examples-2">Examples</a></h3>
<pre><code class="language-sh"># To create a new space with a random name
$ ockam space create

# To create a new space with a specific name
# Names must be unique across all Ockam Orchestrator users
$ ockam space create s
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="space-delete"><a class="header" href="#space-delete">space delete</a></h2>
<hr />
<p><code>ockam space delete [OPTIONS] [SPACE_NAME] </code></p>
<p>This command will delete the specified space. Deleting a space implies deleting all the projects associated with it.</p>
<h3 id="arguments-1"><a class="header" href="#arguments-1">Arguments</a></h3>
<ul>
<li><code>[SPACE_NAME]</code> (optional)<br/>
Name of the space</li>
</ul>
<h3 id="options-2"><a class="header" href="#options-2">Options</a></h3>
<ul>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
</ul>
<h3 id="examples-3"><a class="header" href="#examples-3">Examples</a></h3>
<pre><code class="language-sh"># To delete a space given its name
$ ockam space delete s
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="space-list"><a class="header" href="#space-list">space list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam space list [OPTIONS] </code></p>
<p>This command will show the details of all the available spaces.</p>
<p>By default, it will fetch the spaces associated to the default identity. This can be overridden by passing the <code>--identity</code> flag.</p>
<h3 id="options-3"><a class="header" href="#options-3">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<h3 id="examples-4"><a class="header" href="#examples-4">Examples</a></h3>
<pre><code class="language-sh"># To list the spaces of the default identity
$ ockam space list

# To list the spaces of a specific identity
$ ockam space list --identity i2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="space-show"><a class="header" href="#space-show">space show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam space show [OPTIONS] [NAME] </code></p>
<p>This command will show all the details of a space such as its name, ID, and users that have access to it.</p>
<h3 id="arguments-2"><a class="header" href="#arguments-2">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)<br/>
Name of the space</li>
</ul>
<h3 id="options-4"><a class="header" href="#options-4">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<h3 id="examples-5"><a class="header" href="#examples-5">Examples</a></h3>
<pre><code class="language-sh"># To show a space with a specific name
$ ockam space show s
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-project"><a class="header" href="#ockam-project">ockam project</a></h2>
<hr />
<p><code>ockam project &lt;COMMAND&gt; </code></p>
<p>The <code>project</code> command allows you to manage your Ockam Projects. You can create new Projects, list existing Projects, import existing Projects, and delete them.</p>
<p>As an administrator, you can also create tickets to allow other Ockam Nodes to become members of your Project (using <code>ockam project ticket</code>). You can provide these tickets to others, and they can redeem them to enroll their Ockam Nodes into your Project (using <code>ockam project enroll</code>).</p>
<p>An Ockam Project is a collection of Nodes and Workers that work together to achieve a common goal. You can create Nodes and Workers within a Project using various commands, like <code>ockam node create</code>.</p>
<p>Upon enrolling in Ockam, using <code>ockam enroll</code>, the Orchestrator creates a new dedicated Project for you. It offers two services: a Membership Authority and a Relay Service. You can use the Relay Service to create end-to-end secure channels. You can use the Membership Authority to manage which Identities are members of your Project.</p>
<h3 id="subcommands-2"><a class="header" href="#subcommands-2">Subcommands</a></h3>
<ul>
<li><a href="ockam-project-create.html">create</a></li>
<li><a href="ockam-project-import.html">import</a></li>
<li><a href="ockam-project-delete.html">delete</a></li>
<li><a href="ockam-project-list.html">list</a></li>
<li><a href="ockam-project-show.html">show</a></li>
<li><a href="ockam-project-version.html">version</a></li>
<li><a href="ockam-project-ticket.html">ticket</a></li>
<li><a href="ockam-project-addon.html">addon</a></li>
<li><a href="ockam-project-enroll.html">enroll</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-create"><a class="header" href="#project-create">project create</a></h2>
<hr />
<p><code>ockam project create [OPTIONS] &lt;SPACE_NAME&gt; [PROJECT_NAME] </code></p>
<p>This command will create a new project within the given space. If the project already exists, it will just fetch it and show its details.</p>
<h3 id="arguments-3"><a class="header" href="#arguments-3">Arguments</a></h3>
<ul>
<li>
<p><code>&lt;SPACE_NAME&gt;</code><br/>
Name of the Space the project belongs to</p>
</li>
<li>
<p><code>[PROJECT_NAME]</code> (optional)<br/>
Name of the project - must be unique within parent Space</p>
</li>
</ul>
<h3 id="options-5"><a class="header" href="#options-5">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<h3 id="examples-6"><a class="header" href="#examples-6">Examples</a></h3>
<pre><code class="language-sh"># To create a new project with a random name
$ ockam project create myspace

# To create a new project with a specific name
$ ockam project create myspace myproject
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-import"><a class="header" href="#project-import">project import</a></h2>
<hr />
<p><code>ockam project import --project-file &lt;PATH&gt; </code></p>
<p>This command will import a project in the local database from a json file produce with <code>ockam project show --output json</code>.
If the project already exists, an error is returned</p>
<h3 id="options-6"><a class="header" href="#options-6">Options</a></h3>
<ul>
<li><code>--project-file &lt;PATH&gt;</code><br/>
Project file</li>
</ul>
<h3 id="examples-7"><a class="header" href="#examples-7">Examples</a></h3>
<pre><code class="language-sh"># To import a project
$ ockam project import --project-file project.json
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-delete"><a class="header" href="#project-delete">project delete</a></h2>
<hr />
<p><code>ockam project delete [OPTIONS] &lt;SPACE_NAME&gt; &lt;PROJECT_NAME&gt; </code></p>
<p>This command will delete the specified project. Deleting a project implies deleting all the resources and services available for that project.</p>
<h3 id="arguments-4"><a class="header" href="#arguments-4">Arguments</a></h3>
<ul>
<li>
<p><code>&lt;SPACE_NAME&gt;</code><br/>
Name of the space</p>
</li>
<li>
<p><code>&lt;PROJECT_NAME&gt;</code><br/>
Name of the project</p>
</li>
</ul>
<h3 id="options-7"><a class="header" href="#options-7">Options</a></h3>
<ul>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
</ul>
<h3 id="examples-8"><a class="header" href="#examples-8">Examples</a></h3>
<pre><code class="language-sh"># To delete a project given its name
$ ockam project delete myspace myproject
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-list"><a class="header" href="#project-list">project list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam project list [OPTIONS] </code></p>
<p>This command will show the details of all the available projects across the user's spaces.</p>
<p>By default, it will access the spaces associated to the default identity. This can be overridden by passing the <code>--identity</code> flag.</p>
<h3 id="options-8"><a class="header" href="#options-8">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<h3 id="examples-9"><a class="header" href="#examples-9">Examples</a></h3>
<pre><code class="language-sh"># To list the projects of the default identity
$ ockam project list

# To list the spaces of a specific identity
$ ockam project list --identity i2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-show"><a class="header" href="#project-show">project show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam project show [OPTIONS] [NAME] </code></p>
<p>This command will show all the details of a project such as its name, ID, and associated space.</p>
<h3 id="arguments-5"><a class="header" href="#arguments-5">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)<br/>
Name of the project</li>
</ul>
<h3 id="options-9"><a class="header" href="#options-9">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<h3 id="examples-10"><a class="header" href="#examples-10">Examples</a></h3>
<pre><code class="language-sh"># To show a project with a specific name
$ ockam project show myspace myproject
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-version"><a class="header" href="#project-version">project version</a></h2>
<hr />
<p><code>ockam project version [OPTIONS] </code></p>
<p>This command will return the version of the Orchestrator Controller and the Projects</p>
<h3 id="options-10"><a class="header" href="#options-10">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<pre><code class="language-sh"># To retrieve the version of the projects
$ ockam project version
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-ticket"><a class="header" href="#project-ticket">project ticket</a></h2>
<hr />
<p><code>ockam project ticket [OPTIONS] </code></p>
<p>The <code>project ticket</code> command allows you to create a one-time enrollment ticket, and provide custom attributes, after you have run <code>ockam enroll</code>. This is typically only done by Project administrators. How long the ticket is valid, and how many times it can be redeemed is also configurable via this command. Once redeemed, the attributes in this ticket are assigned to its redeemer. You can also use the <code>--relay</code> argument to allow the other Identity to create a Relay at the given address. The <code>--enroller</code> argument allows the Identity using the ticket to enroll other Identities into the Project, typically something that only administrators can do.</p>
<p>Once you create a ticket, with attributes, for a Project, another Ockam node can use it later to enroll into this Project (using <code>ockam project enroll</code>).</p>
<p>When another Ockam node runs <code>ockam project enroll</code> with this ticket (the Identity of that node is enrolled), they become a member of the Project, and they get a credential at the end of this process. The Project's Membership Authority will cryptographically attest to the specific attributes that the ticket was created with. As a member, they can request a credential whenever they need one. Credentials do not live forever, and expire.</p>
<p>The ticket is plain text representing a one-time use token and the non-sensitive data about the Project, like the route to reach it, and some other information, which will be used to validate the Project Identity. The ticket itself can be stored in an environment variable, or a file.</p>
<h3 id="options-11"><a class="header" href="#options-11">Options</a></h3>
<ul>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</p>
</li>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Project name to use for the command</p>
</li>
<li>
<p><code>--authority-identity [IDENTITY]</code> (optional)<br/>
Hex encoded Identity</p>
</li>
<li>
<p><code>--authority-route [AUTHORITY_ROUTE]</code> (optional)<br/>
Address to the Authority node</p>
</li>
<li>
<p><code>--expect-cached-credential</code> (optional)<br/>
Expect credential manually saved to the storage</p>
</li>
<li>
<p><code>-m</code>, <code>--member [IDENTIFIER]</code> (optional)<br/>
Bypass ticket creation, add this member directly to the Project's Membership Authority, with the given attributes</p>
</li>
<li>
<p><code>-t</code>, <code>--to [ROUTE_TO_PROJECT]</code> (optional)<br/>
The Project name from this option is used to create the enrollment ticket. This takes precedence over <code>--project</code></p>
</li>
<li>
<p><code>-a</code>, <code>--attribute [ATTRIBUTE]</code> (optional)<br/>
Attributes in <code>key=value</code> format to be attached to the member. You can specify this option multiple times for multiple attributes</p>
</li>
<li>
<p><code>--expires-in [DURATION]</code> (optional)<br/>
Duration for which the enrollment ticket is valid, if you don't specify this, the default is 10 minutes. Examples: 10000ms, 600s, 600, 10m, 1h, 1d. If you don't specify a length sigil, it is assumed to be seconds</p>
</li>
<li>
<p><code>--usage-count [USAGE_COUNT]</code> (optional)<br/>
Number of times the ticket can be used to enroll, the default is 1</p>
</li>
<li>
<p><code>--relay [ENROLLEE_ALLOWED_RELAY_NAME]</code> (optional)<br/>
Name of the relay that the identity using the ticket will be allowed to create. This name is transformed into attributes to prevent collisions when creating relay names. For example: <code>--relay foo</code> is shorthand for <code>--attribute ockam-relay=foo</code></p>
</li>
<li>
<p><code>--enroller</code> (optional)<br/>
Add the enroller role to your ticket. If you specify it, this flag is transformed into the attributes <code>--attribute ockam-role=enroller</code>. This role allows the Identity using the ticket to enroll other Identities into the Project, typically something that only admins can do</p>
</li>
</ul>
<h3 id="examples-11"><a class="header" href="#examples-11">Examples</a></h3>
<pre><code class="language-sh"># To generate an enrollment ticket that can be used to enroll a machine
$ ockam project ticket --attribute component=db --attribute location=sf

# To generate an enrollment ticket that can be used to enroll a machine and save it to a file
$ ockam project ticket --attribute component=db --attribute location=sf &gt; ticket.txt
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon"><a class="header" href="#project-addon">project addon</a></h2>
<hr />
<p><code>ockam project addon [OPTIONS] &lt;COMMAND&gt; </code></p>
<p>Manage addons for a Project</p>
<h3 id="subcommands-3"><a class="header" href="#subcommands-3">Subcommands</a></h3>
<ul>
<li><a href="ockam-project-addon-list.html">list</a></li>
<li><a href="ockam-project-addon-disable.html">disable</a></li>
<li><a href="ockam-project-addon-configure.html">configure</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-list"><a class="header" href="#project-addon-list">project addon list</a></h2>
<hr />
<p><code>ockam project addon list --project &lt;PROJECT_NAME&gt; </code></p>
<p>List available addons for a project</p>
<h3 id="options-12"><a class="header" href="#options-12">Options</a></h3>
<ul>
<li><code>--project &lt;PROJECT_NAME&gt;</code><br/>
Project name</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-disable"><a class="header" href="#project-addon-disable">project addon disable</a></h2>
<hr />
<p><code>ockam project addon disable --project &lt;PROJECT_NAME&gt; --addon &lt;ADDON_ID&gt; </code></p>
<p>Disable an addon for a project</p>
<h3 id="options-13"><a class="header" href="#options-13">Options</a></h3>
<ul>
<li>
<p><code>--project &lt;PROJECT_NAME&gt;</code><br/>
Project name</p>
</li>
<li>
<p><code>--addon &lt;ADDON_ID&gt;</code><br/>
Addon id/name</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure"><a class="header" href="#project-addon-configure">project addon configure</a></h2>
<hr />
<p><code>ockam project addon configure &lt;COMMAND&gt; </code></p>
<p>Configure an addon for a project</p>
<h3 id="subcommands-4"><a class="header" href="#subcommands-4">Subcommands</a></h3>
<ul>
<li><a href="ockam-project-addon-configure-okta.html">okta</a></li>
<li><a href="ockam-project-addon-configure-influxdb.html">influxdb</a></li>
<li><a href="ockam-project-addon-configure-confluent.html">confluent</a></li>
<li><a href="ockam-project-addon-configure-instaclustr-kafka.html">instaclustr-kafka</a></li>
<li><a href="ockam-project-addon-configure-aiven-kafka.html">aiven-kafka</a></li>
<li><a href="ockam-project-addon-configure-redpanda.html">redpanda</a></li>
<li><a href="ockam-project-addon-configure-warpstream.html">warpstream</a></li>
<li><a href="ockam-project-addon-configure-kafka.html">kafka</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure-okta"><a class="header" href="#project-addon-configure-okta">project addon configure okta</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam project addon configure okta [OPTIONS] --tenant &lt;TENANT&gt; --client-id &lt;CLIENT_ID&gt; </code></p>
<p>InfluxDB Cloud addon allows you to create, store and retrieve InfluxDB Tokens with expiry times.</p>
<h3 id="options-14"><a class="header" href="#options-14">Options</a></h3>
<ul>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Ockam Project name</p>
</li>
<li>
<p><code>--tenant &lt;TENANT&gt;</code><br/>
Okta Plugin tenant URL</p>
</li>
<li>
<p><code>--cert [CERTIFICATE]</code> (optional)<br/>
Okta Certificate. Use either this or --cert-path</p>
</li>
<li>
<p><code>--cert-path [CERTIFICATE_PATH]</code> (optional)<br/>
Okta Certificate file path. Use either this or --cert</p>
</li>
<li>
<p><code>--client-id &lt;CLIENT_ID&gt;</code><br/>
Okta Client ID</p>
</li>
<li>
<p><code>-a</code>, <code>--attribute [ATTRIBUTE]</code> (optional)<br/>
Attributes names to copy from Okta userprofile into Ockam credential</p>
</li>
</ul>
<h3 id="examples-12"><a class="header" href="#examples-12">Examples</a></h3>
<p>Examples of how to configure and use the InfluxDB Cloud addon can be found within the example documentation:</p>
<ul>
<li>https://docs.ockam.io/guides/examples/influxdb-cloud-token-lease-management</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure-influxdb"><a class="header" href="#project-addon-configure-influxdb">project addon configure influxdb</a></h2>
<hr />
<p><code>ockam project addon configure influxdb [OPTIONS] --endpoint-url &lt;ENDPOINT_URL&gt; --token &lt;INFLUXDB_TOKEN&gt; --org-id &lt;ORGANIZATION_ID&gt; </code></p>
<p>InfluxDB Cloud addon allows you to create, store and retrieve InfluxDB Tokens with expiry times.</p>
<h3 id="options-15"><a class="header" href="#options-15">Options</a></h3>
<ul>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Ockam Project Name</p>
</li>
<li>
<p><code>-e</code>, <code>--endpoint-url &lt;ENDPOINT_URL&gt;</code><br/>
Url of the InfluxDB instance</p>
</li>
<li>
<p><code>-t</code>, <code>--token &lt;INFLUXDB_TOKEN&gt;</code><br/>
InfluxDB Token with permissions to perform CRUD token operations</p>
</li>
<li>
<p><code>-o</code>, <code>--org-id &lt;ORGANIZATION_ID&gt;</code><br/>
InfluxDB Organization ID</p>
</li>
<li>
<p><code>--permissions [PERMISSIONS_JSON]</code> (optional)<br/>
InfluxDB Permissions as a JSON String https://docs.influxdata.com/influxdb/v2.0/api/#operation/PostAuthorizations</p>
</li>
<li>
<p><code>--permissions-path [PERMISSIONS_JSON_PATH]</code> (optional)<br/>
InfluxDB Permissions JSON PATH. Use either this or --permissions</p>
</li>
<li>
<p><code>--max-ttl [MAX_TTL_SECS]</code> (optional)<br/>
Max TTL of Tokens within the Lease Manager [Defaults to 3 Hours]</p>
</li>
<li>
<p><code>--user-access-role [USER_ACCESS_ROLE]</code> (optional)<br/>
Ockam Access Rule for who can use the token lease service</p>
</li>
<li>
<p><code>--adamin-access-role [ADMIN_ACCESS_ROLE]</code> (optional)<br/>
Ockam Access Rule for who can manage the token lease service</p>
</li>
</ul>
<h3 id="examples-13"><a class="header" href="#examples-13">Examples</a></h3>
<p>Examples of how to configure and use the InfluxDB Cloud addon can be found within the example documentation:</p>
<ul>
<li>https://docs.ockam.io/guides/examples/influxdb-cloud-token-lease-management</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure-confluent"><a class="header" href="#project-addon-configure-confluent">project addon configure confluent</a></h2>
<hr />
<p><code>ockam project addon configure confluent [OPTIONS] --bootstrap-server &lt;BOOTSTRAP_SERVER&gt; </code></p>
<p>Confluent Cloud addon allows you to enable end-to-end encryption with your Kafka Consumers and Kafka Producers.</p>
<h3 id="options-16"><a class="header" href="#options-16">Options</a></h3>
<ul>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Ockam project name</p>
</li>
<li>
<p><code>--bootstrap-server &lt;BOOTSTRAP_SERVER&gt;</code><br/>
Bootstrap server address</p>
</li>
</ul>
<h3 id="examples-14"><a class="header" href="#examples-14">Examples</a></h3>
<p>Examples of how to configure and use the Confluent Cloud addon can be found within the example documentation:</p>
<ul>
<li>https://docs.ockam.io/guides/examples/end-to-end-encrypted-kafka</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure-instaclustr-kafka"><a class="header" href="#project-addon-configure-instaclustr-kafka">project addon configure instaclustr-kafka</a></h2>
<hr />
<p><code>ockam project addon configure instaclustr-kafka [OPTIONS] --bootstrap-server &lt;BOOTSTRAP_SERVER&gt; </code></p>
<p>Instaclustr (Kafka) addon allows you to enable end-to-end encryption with your Kafka Consumers and Kafka Producers.</p>
<h3 id="options-17"><a class="header" href="#options-17">Options</a></h3>
<ul>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Ockam project name</p>
</li>
<li>
<p><code>--bootstrap-server &lt;BOOTSTRAP_SERVER&gt;</code><br/>
Bootstrap server address</p>
</li>
</ul>
<h3 id="examples-15"><a class="header" href="#examples-15">Examples</a></h3>
<p>Examples of how to configure and use the Instaclustr (Kafka) addon can be found within the example documentation:</p>
<ul>
<li>https://docs.ockam.io/guides/examples/end-to-end-encrypted-kafka</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure-aiven-kafka"><a class="header" href="#project-addon-configure-aiven-kafka">project addon configure aiven-kafka</a></h2>
<hr />
<p><code>ockam project addon configure aiven-kafka [OPTIONS] --bootstrap-server &lt;BOOTSTRAP_SERVER&gt; </code></p>
<p>Aiven (Kafka) addon allows you to enable end-to-end encryption with your Kafka Consumers and Kafka Producers.</p>
<h3 id="options-18"><a class="header" href="#options-18">Options</a></h3>
<ul>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Ockam project name</p>
</li>
<li>
<p><code>--bootstrap-server &lt;BOOTSTRAP_SERVER&gt;</code><br/>
Bootstrap server address</p>
</li>
</ul>
<h3 id="examples-16"><a class="header" href="#examples-16">Examples</a></h3>
<p>Examples of how to configure and use the Aiven (Kafka) addon can be found within the example documentation:</p>
<ul>
<li>https://docs.ockam.io/guides/examples/end-to-end-encrypted-kafka</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure-redpanda"><a class="header" href="#project-addon-configure-redpanda">project addon configure redpanda</a></h2>
<hr />
<p><code>ockam project addon configure redpanda [OPTIONS] --bootstrap-server &lt;BOOTSTRAP_SERVER&gt; </code></p>
<p>Redpanda addon allows you to enable end-to-end encryption with your Kafka Consumers and Kafka Producers.</p>
<h3 id="options-19"><a class="header" href="#options-19">Options</a></h3>
<ul>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Ockam project name</p>
</li>
<li>
<p><code>--bootstrap-server &lt;BOOTSTRAP_SERVER&gt;</code><br/>
Bootstrap server address</p>
</li>
</ul>
<h3 id="examples-17"><a class="header" href="#examples-17">Examples</a></h3>
<p>Examples of how to configure and use the Redpanda addon can be found within the example documentation:</p>
<ul>
<li>https://docs.ockam.io/guides/examples/end-to-end-encrypted-kafka</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure-warpstream"><a class="header" href="#project-addon-configure-warpstream">project addon configure warpstream</a></h2>
<hr />
<p><code>ockam project addon configure warpstream [OPTIONS] --bootstrap-server &lt;BOOTSTRAP_SERVER&gt; </code></p>
<p>WarpSteam addon allows you to enable end-to-end encryption with your Kafka Consumers and Kafka Producers.</p>
<h3 id="options-20"><a class="header" href="#options-20">Options</a></h3>
<ul>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Ockam project name</p>
</li>
<li>
<p><code>--bootstrap-server &lt;BOOTSTRAP_SERVER&gt;</code><br/>
Bootstrap server address</p>
</li>
</ul>
<h3 id="examples-18"><a class="header" href="#examples-18">Examples</a></h3>
<p>Examples of how to configure and use the WarpStream addon can be found within the example documentation:</p>
<ul>
<li>https://docs.ockam.io/guides/examples/end-to-end-encrypted-kafka</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-addon-configure-kafka"><a class="header" href="#project-addon-configure-kafka">project addon configure kafka</a></h2>
<hr />
<p><code>ockam project addon configure kafka [OPTIONS] --bootstrap-server &lt;BOOTSTRAP_SERVER&gt; </code></p>
<p>Apache Kafka addon allows you to enable end-to-end encryption with your Kafka Consumers and Kafka Producers.</p>
<h3 id="options-21"><a class="header" href="#options-21">Options</a></h3>
<ul>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Ockam project name</p>
</li>
<li>
<p><code>--bootstrap-server &lt;BOOTSTRAP_SERVER&gt;</code><br/>
Bootstrap server address</p>
</li>
</ul>
<h3 id="examples-19"><a class="header" href="#examples-19">Examples</a></h3>
<p>Examples of how to configure and use the Apache Kafka addon can be found within the example documentation:</p>
<ul>
<li>https://docs.ockam.io/guides/examples/end-to-end-encrypted-kafka</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="project-enroll"><a class="header" href="#project-enroll">project enroll</a></h2>
<hr />
<p><code>ockam project enroll [OPTIONS] [ENROLLMENT TICKET] </code></p>
<p>The <code>project enroll</code> command allows you to use an enrollment ticket generated by <code>ockam project ticket</code> (for a Project) to enroll an Identity, on an Ockam Node, typically running on another machine, to that Project. This is a great choice for enrolling large fleets of applications, services, or machines. It is also friendly to automated provisioning scripts and tools.</p>
<p>When you or someone else uses a machine to run this command with a ticket, the following steps take place for it to get a credential. The Identity of the Ockam Node running on this machine is enrolled with the ticket's Project. This Identity gets a Project membership credential that attests to the attributes that the ticket was created with. Then, for example, this Node can create a Relay in the Project, at an address specified in the attributes of the ticket. The attributes are also used in conjunction with access control policies on other Ockam Nodes to ensure that Project members that possess a certain credential with a certain attribute can communicate with them.</p>
<p>The ticket is plain text representing a one-time use token and the non-sensitive data about the Project, like the route to reach it and the Project Identity Identifier, which will be used to validate the Project Identity. The ticket itself can be stored in an environment variable, or a file.</p>
<p>Ockam offers several pluggable enrollment protocols. Another options for you is to use Okta as an enrollment provider using <code>--okta</code>. This is a great choice for enrolling users without manual intervention (no need to manually provision tickets for each user). Workforce identities in Okta can be combined with application identities in Ockam for attribute-based access control of distributed applications.</p>
<h3 id="arguments-6"><a class="header" href="#arguments-6">Arguments</a></h3>
<ul>
<li><code>[ENROLLMENT TICKET]</code> (optional)<br/>
Path, URL or inlined hex-encoded enrollment ticket</li>
</ul>
<h3 id="options-22"><a class="header" href="#options-22">Options</a></h3>
<ul>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</p>
</li>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Project name to use for the command</p>
</li>
<li>
<p><code>--authority-identity [IDENTITY]</code> (optional)<br/>
Hex encoded Identity</p>
</li>
<li>
<p><code>--authority-route [AUTHORITY_ROUTE]</code> (optional)<br/>
Address to the Authority node</p>
</li>
<li>
<p><code>--expect-cached-credential</code> (optional)<br/>
Expect credential manually saved to the storage</p>
</li>
<li>
<p><code>--okta</code> (optional)<br/>
Use Okta instead of an enrollment ticket</p>
</li>
</ul>
<h3 id="examples-20"><a class="header" href="#examples-20">Examples</a></h3>
<pre><code class="language-sh"># 1) Use hex encoded string enrollment ticket:

# From the admin machine, generate an enrollment ticket
$ TICKET=$(ockam project ticket --attribute component=user)

# From the user machine, enroll the local identity to the project using the ticket
$ ockam project enroll $TICKET --identity control_identity

# 2) Use file enrollment ticket:

# From the admin machine, generate an enrollment ticket, save to a file
$ ockam project ticket --attribute component=user &gt; $NAME.ticket

# From the user machine, enroll the local identity to the project using the file
$ ockam project enroll --identity control_identity $NAME.ticket
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-sidecar"><a class="header" href="#ockam-sidecar">ockam sidecar</a></h2>
<hr />
<p><code>ockam sidecar &lt;COMMAND&gt; </code></p>
<p>This command starts sidecar, every sidecar is thought to be standalone and can be executed locally or within a docker container.
You can also customize recipes to fit your needs by running the sidecar with <code>--dry-run</code> parameter and then editing the generated recipe.
To execute a recipe, use <code>ockam run</code>.</p>
<h3 id="subcommands-5"><a class="header" href="#subcommands-5">Subcommands</a></h3>
<ul>
<li><a href="ockam-sidecar-secure-relay-inlet.html">secure-relay-inlet</a></li>
<li><a href="ockam-sidecar-secure-relay-outlet.html">secure-relay-outlet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="sidecar-secure-relay-inlet"><a class="header" href="#sidecar-secure-relay-inlet">sidecar secure-relay-inlet</a></h2>
<hr />
<p><code>ockam sidecar secure-relay-inlet [OPTIONS] &lt;--enroll-ticket &lt;ENROLLMENT TICKET PATH&gt;|--okta&gt; &lt;SERVICE NAME&gt; </code></p>
<p>This sidecar starts a TCP inlet listening in the provided port. It requires a valid enrollment mechanism. The portal will be named and inlet and outlet name must match.</p>
<h3 id="arguments-7"><a class="header" href="#arguments-7">Arguments</a></h3>
<ul>
<li><code>&lt;SERVICE NAME&gt;</code><br/>
The name of the service</li>
</ul>
<h3 id="options-23"><a class="header" href="#options-23">Options</a></h3>
<ul>
<li>
<p><code>--from [SOCKET_ADDRESS]</code> (optional)<br/>
Address on which to accept tcp connections</p>
</li>
<li>
<p><code>--dry-run</code> (optional)<br/>
Just print the recipe and exit</p>
</li>
<li>
<p><code>--enroll-ticket [ENROLLMENT TICKET PATH]</code> (optional)<br/>
Enrollment ticket to use</p>
</li>
<li>
<p><code>--okta</code> (optional)<br/>
If using Okta enrollment</p>
</li>
</ul>
<h3 id="examples-21"><a class="header" href="#examples-21">Examples</a></h3>
<pre><code class="language-sh"># Starts the inlet relay listening in port 5432 with a service called `postgresql-production`
ockam sidecar secure-relay-inlet --from 127.0.0.1:5432 --enrollment-ticket ./ticket postgresql-production

# Prints the recipe without executing any command, can be used with `ockam run`
ockam sidecar secure-relay-inlet --from 127.0.0.1:5432 --enrollment-ticket ./ticket --dry-run postgresql-production

# Starts an inlet relay service called `my-http-service` listening on port 6000 inside a docker container
docker run --name my-http-service -ti -p 6000:6000 --volume /tmp/ticket_for_docker:/ticket ockam sidecar secure-relay-inlet --from 0.0.0.0:6000 --enrollment-ticket /ticket my-http-service
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="sidecar-secure-relay-outlet"><a class="header" href="#sidecar-secure-relay-outlet">sidecar secure-relay-outlet</a></h2>
<hr />
<p><code>ockam sidecar secure-relay-outlet [OPTIONS] --to &lt;SOCKET_ADDRESS&gt; &lt;--enroll-ticket &lt;ENROLLMENT TICKET PATH&gt;|--okta&gt; &lt;SERVICE NAME&gt; </code></p>
<p>This sidecar starts a TCP outlet connecting to the provided address. It requires a valid enrollment mechanism. The portal will be named and inlet and outlet name must match.</p>
<h3 id="arguments-8"><a class="header" href="#arguments-8">Arguments</a></h3>
<ul>
<li><code>&lt;SERVICE NAME&gt;</code><br/>
The name of the service</li>
</ul>
<h3 id="options-24"><a class="header" href="#options-24">Options</a></h3>
<ul>
<li>
<p><code>--to &lt;SOCKET_ADDRESS&gt;</code><br/>
TCP address to send raw tcp traffic</p>
</li>
<li>
<p><code>--dry-run</code> (optional)<br/>
Just print the recipe and exit</p>
</li>
<li>
<p><code>--enroll-ticket [ENROLLMENT TICKET PATH]</code> (optional)<br/>
Enrollment ticket to use</p>
</li>
<li>
<p><code>--okta</code> (optional)<br/>
If using Okta enrollment</p>
</li>
</ul>
<h3 id="examples-22"><a class="header" href="#examples-22">Examples</a></h3>
<pre><code class="language-sh"># Starts the outlet connecting to localhost port 5432, with a named service `postgresql-production`
ockam sidecar secure-relay-outlet --to 127.0.0.1:5432 --enrollment-ticket ./ticket postgresql-production

# Prints the recipe without executing any command, can be used with `ockam run`
ockam sidecar secure-relay-outlet --to 127.0.0.1:5432 --enrollment-ticket ./ticket --dry-run postgresql-production

# Starts an outlet relay service called `my-http-service` listening connecting to port 5000 inside a docker container
docker run --name my-http-service -ti --volume /tmp/ticket_for_docker:/ticket ockam sidecar secure-relay-outlet --to 127.0.0.1:5000 --enrollment-ticket /ticket my-http-service
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-share"><a class="header" href="#ockam-share">ockam share</a></h2>
<hr />
<p><code>ockam share &lt;COMMAND&gt; </code></p>
<p>Manage sharing invitations in Ockam Orchestrator</p>
<h3 id="subcommands-6"><a class="header" href="#subcommands-6">Subcommands</a></h3>
<ul>
<li><a href="ockam-share-accept.html">accept</a></li>
<li><a href="ockam-share-create.html">create</a></li>
<li><a href="ockam-share-list.html">list</a></li>
<li><a href="ockam-share-revoke.html">revoke</a></li>
<li><a href="ockam-share-service.html">service</a></li>
<li><a href="ockam-share-show.html">show</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="share-accept"><a class="header" href="#share-accept">share accept</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam share accept [OPTIONS] &lt;ID&gt; </code></p>
<p>Accept a received sharing invitation</p>
<h3 id="arguments-9"><a class="header" href="#arguments-9">Arguments</a></h3>
<ul>
<li><code>&lt;ID&gt;</code></li>
</ul>
<h3 id="options-25"><a class="header" href="#options-25">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="share-create"><a class="header" href="#share-create">share create</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam share create [OPTIONS] &lt;SCOPE&gt; &lt;TARGET_ID&gt; &lt;RECIPIENT_EMAIL&gt; </code></p>
<p>Create an invitation for another user to join a Space or Project</p>
<h3 id="arguments-10"><a class="header" href="#arguments-10">Arguments</a></h3>
<ul>
<li><code>&lt;SCOPE&gt;</code></li>
<li><code>&lt;TARGET_ID&gt;</code></li>
<li><code>&lt;RECIPIENT_EMAIL&gt;</code></li>
</ul>
<h3 id="options-26"><a class="header" href="#options-26">Options</a></h3>
<ul>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</p>
</li>
<li>
<p><code>-R</code>, <code>--grant-role [GRANT_ROLE]</code> (optional)</p>
</li>
<li>
<p><code>-x</code>, <code>--expires-at [EXPIRES_AT]</code> (optional)</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="share-list"><a class="header" href="#share-list">share list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam share list [OPTIONS] </code></p>
<p>List sharing invitations you've created or received</p>
<h3 id="options-27"><a class="header" href="#options-27">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="share-revoke"><a class="header" href="#share-revoke">share revoke</a></h2>
<hr />
<p><code>ockam share revoke </code></p>
<p>Revoke a sharing invitation you've previously created</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="share-service"><a class="header" href="#share-service">share service</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam share service [OPTIONS] &lt;PROJECT_ID&gt; &lt;RECIPIENT_EMAIL&gt; &lt;PROJECT_IDENTITY&gt; &lt;PROJECT_ROUTE&gt; &lt;PROJECT_AUTHORITY_IDENTITY&gt; &lt;PROJECT_AUTHORITY_ROUTE&gt; &lt;SHARED_NODE_IDENTITY&gt; &lt;SHARED_NODE_ROUTE&gt; &lt;ENROLLMENT_TICKET&gt; </code></p>
<p>Create a sharing invitation for a single service</p>
<h3 id="arguments-11"><a class="header" href="#arguments-11">Arguments</a></h3>
<ul>
<li><code>&lt;PROJECT_ID&gt;</code></li>
<li><code>&lt;RECIPIENT_EMAIL&gt;</code></li>
<li><code>&lt;PROJECT_IDENTITY&gt;</code></li>
<li><code>&lt;PROJECT_ROUTE&gt;</code></li>
<li><code>&lt;PROJECT_AUTHORITY_IDENTITY&gt;</code></li>
<li><code>&lt;PROJECT_AUTHORITY_ROUTE&gt;</code></li>
<li><code>&lt;SHARED_NODE_IDENTITY&gt;</code></li>
<li><code>&lt;SHARED_NODE_ROUTE&gt;</code></li>
<li><code>&lt;ENROLLMENT_TICKET&gt;</code></li>
</ul>
<h3 id="options-28"><a class="header" href="#options-28">Options</a></h3>
<ul>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</p>
</li>
<li>
<p><code>-x</code>, <code>--expires-at [EXPIRES_AT]</code> (optional)</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="share-show"><a class="header" href="#share-show">share show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam share show [OPTIONS] &lt;INVITATION_ID&gt; </code></p>
<p>Show information about a single invitation you own or received, including service access details</p>
<h3 id="arguments-12"><a class="header" href="#arguments-12">Arguments</a></h3>
<ul>
<li><code>&lt;INVITATION_ID&gt;</code></li>
</ul>
<h3 id="options-29"><a class="header" href="#options-29">Options</a></h3>
<ul>
<li><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-node"><a class="header" href="#ockam-node">ockam node</a></h2>
<hr />
<p><code>ockam node &lt;COMMAND&gt; </code></p>
<p>An Ockam node is any running application that can communicate with other applications using various Ockam protocols like Routing, Secure Channels, Relays etc.</p>
<p>We can create Ockam nodes using the Ockam CLI or using various Ockam programming libraries like our Rust and Elixir libraries.</p>
<h3 id="subcommands-7"><a class="header" href="#subcommands-7">Subcommands</a></h3>
<ul>
<li><a href="ockam-node-create.html">create</a></li>
<li><a href="ockam-node-delete.html">delete</a></li>
<li><a href="ockam-node-list.html">list</a></li>
<li><a href="ockam-node-logs.html">logs</a></li>
<li><a href="ockam-node-show.html">show</a></li>
<li><a href="ockam-node-start.html">start</a></li>
<li><a href="ockam-node-stop.html">stop</a></li>
<li><a href="ockam-node-default.html">default</a></li>
</ul>
<h3 id="examples-23"><a class="header" href="#examples-23">Examples</a></h3>
<pre><code class="language-sh"># Create two nodes
$ ockam node create n1
$ ockam node create n2

# Send a message to the uppercase service on node 2
$ ockam message send hello --to /node/n2/service/uppercase
HELLO

# A more verbose version of the above would be,
# assuming n2 started its tcp listener on port 4000.
$ ockam message send hello --to /ip4/127.0.0.1/tcp/4000/service/uppercase
HELLO

# Send a message to the uppercase service on node n2 from node n1
$ ockam message send hello --from /node/n1 --to /node/n2/service/uppercase
HELLO

# Create a secure channel from node n1 to the api service on node n2
# The /service/api is a secure channel listener that is started on every node
# Send a message through this encrypted channel to the uppercase service
$ ockam secure-channel create --from /node/n1 --to /node/n2/service/api \\
    | ockam message send hello --from /node/n1 --to -/service/uppercase
HELLO

# Create a node, with a specified tcp listener address
$ ockam node create n1 --tcp-listener-address 127.0.0.1:6001

# Create a node, and run it in the foreground with verbose traces
$ ockam node create n1 --foreground -vvv

# Show information about a specific node
$ ockam node show n1

# List all created nodes
$ ockam node list

# Delete the node
$ ockam node delete n1

# Delete all nodes
$ ockam node delete --all

# Delete all nodes and force cleanup
$ ockam node delete --all --force
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="node-create"><a class="header" href="#node-create">node create</a></h2>
<hr />
<p><code>ockam node create [OPTIONS] [NAME] </code></p>
<p>This command will create a new node. It will create a vault and identity if none exist and will be assigned as the default for the system.</p>
<p>When creating a node, a pre-defined set of default services will be started, including:</p>
<ul>
<li>An uppercase service at <code>/service/uppercase</code></li>
<li>A secure channel listener at <code>/service/api</code></li>
<li>A tcp listener listening at some TCP port picked by the operating system. After creating a node, you can use the <code>ockam node show</code> command to see the port that was assigned to it.</li>
</ul>
<p>Services are one or more Ockam Workers identified by addresses of the form <code>/service/{ADDRESS}</code>. Services can be attached to identities and authorization policies to enforce attribute based access control (ABAC) rules.</p>
<h3 id="arguments-13"><a class="header" href="#arguments-13">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)<br/>
Name of the node or path to a config file</li>
</ul>
<h3 id="options-30"><a class="header" href="#options-30">Options</a></h3>
<ul>
<li>
<p><code>-f</code>, <code>--foreground</code> (optional)<br/>
Run the node in foreground</p>
</li>
<li>
<p><code>-s</code>, <code>--skip-is-running-check</code> (optional)<br/>
Skip the check if such node is already running. Useful for kubernetes when the pid is the same on each run</p>
</li>
<li>
<p><code>-e</code>, <code>--exit-on-eof</code> (optional)<br/>
Watch stdin for EOF</p>
</li>
<li>
<p><code>-t</code>, <code>--tcp-listener-address [SOCKET_ADDRESS]</code> (optional)<br/>
TCP listener address</p>
</li>
<li>
<p><code>--child-process</code> (optional)<br/>
<code>node create</code> started a child process to run this node in foreground</p>
</li>
<li>
<p><code>--launch-config [LAUNCH_CONFIG]</code> (optional)<br/>
JSON config to setup a foreground node</p>
</li>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Name of the Identity that the node will use</p>
</li>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Project name to use for the command</p>
</li>
<li>
<p><code>--authority-identity [IDENTITY]</code> (optional)<br/>
Hex encoded Identity</p>
</li>
<li>
<p><code>--authority-route [AUTHORITY_ROUTE]</code> (optional)<br/>
Address to the Authority node</p>
</li>
<li>
<p><code>--expect-cached-credential</code> (optional)<br/>
Expect credential manually saved to the storage</p>
</li>
<li>
<p><code>--opentelemetry-context [OPENTELEMETRY_CONTEXT]</code> (optional)<br/>
Serialized opentelemetry context</p>
</li>
<li>
<p><code>--enrollment-ticket [ENROLLMENT TICKET]</code> (optional)<br/>
Path, URL or inlined hex-encoded enrollment ticket</p>
</li>
<li>
<p><code>--variable [VARIABLE]</code> (optional)<br/>
Key-value pairs defining environment variables used by the config file</p>
</li>
</ul>
<h3 id="examples-24"><a class="header" href="#examples-24">Examples</a></h3>
<pre><code class="language-sh"># To create a new node with a random name
$ ockam node create

# To create a new node with a specific name
$ ockam node create n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="node-delete"><a class="header" href="#node-delete">node delete</a></h2>
<hr />
<p><code>ockam node delete [OPTIONS] [NODE_NAME] </code></p>
<p>This command will delete the specified node or all the available nodes if the <code>--all</code> flag is used. Deleting a node implies killing the process and removing its data directory. To temporary pause a node use <code>ockam node stop</code> instead.</p>
<h3 id="arguments-14"><a class="header" href="#arguments-14">Arguments</a></h3>
<ul>
<li><code>[NODE_NAME]</code> (optional)<br/>
Name of the node to be deleted</li>
</ul>
<h3 id="options-31"><a class="header" href="#options-31">Options</a></h3>
<ul>
<li>
<p><code>-a</code>, <code>--all</code> (optional)<br/>
Terminate all node processes and delete all node configurations</p>
</li>
<li>
<p><code>-f</code>, <code>--force</code> (optional)<br/>
Terminate node process(es) immediately (uses SIGKILL instead of SIGTERM)</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
</ul>
<h3 id="examples-25"><a class="header" href="#examples-25">Examples</a></h3>
<pre><code class="language-sh"># To delete the default node
$ ockam node delete

# To delete a node given its name
$ ockam node delete n

# To delete all existing nodes
$ ockam node delete --all
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="node-list"><a class="header" href="#node-list">node list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam node list </code></p>
<p>This command will show the details of all the nodes registered in the system.</p>
<h3 id="examples-26"><a class="header" href="#examples-26">Examples</a></h3>
<pre><code class="language-sh">$ ockam node list
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="node-logs"><a class="header" href="#node-logs">node logs</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam node logs [NODE_NAME] </code></p>
<p>This command will return the path to the node's log file. The user can select whether to return the stdout or the stderr log file. The default is to return the stdout log file.</p>
<h3 id="arguments-15"><a class="header" href="#arguments-15">Arguments</a></h3>
<ul>
<li><code>[NODE_NAME]</code> (optional)<br/>
Name of the node to retrieve the logs from</li>
</ul>
<h3 id="examples-27"><a class="header" href="#examples-27">Examples</a></h3>
<pre><code class="language-sh"># Return the path to the stdout log file of the default node
$ ockam node logs

# Pipe the logs to a file into another tool to process it
$ cat &lt; $(ockam node logs n)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="node-show"><a class="header" href="#node-show">node show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam node show [NODE_NAME] </code></p>
<p>This command will show all the details of a node such as its name, route, default identity, and the services running on it.</p>
<h3 id="arguments-16"><a class="header" href="#arguments-16">Arguments</a></h3>
<ul>
<li><code>[NODE_NAME]</code> (optional)<br/>
Name of the node to retrieve the details from</li>
</ul>
<h3 id="examples-28"><a class="header" href="#examples-28">Examples</a></h3>
<pre><code class="language-sh"># To show the default node
$ ockam node show

# To show a node with a specific name
$ ockam node show n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="node-start"><a class="header" href="#node-start">node start</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam node start [NODE_NAME] </code></p>
<p>This command will start a node as a background process that was previously stopped via the command <code>ockam node stop</code>. The node will be started with the same configuration as when it was created.</p>
<h3 id="arguments-17"><a class="header" href="#arguments-17">Arguments</a></h3>
<ul>
<li><code>[NODE_NAME]</code> (optional)<br/>
Name of the node to be started</li>
</ul>
<h3 id="examples-29"><a class="header" href="#examples-29">Examples</a></h3>
<pre><code class="language-sh"># To start the default node
$ ockam node start

# To start a node with a specific name
$ ockam node start n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="node-stop"><a class="header" href="#node-stop">node stop</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam node stop [OPTIONS] [NODE_NAME] </code></p>
<p>This command will a running node, killing the associated background process. This operation will keep the node state in the <code>$OCKAM_HOME</code> directory, so it can be restarted with <code>ockam node start</code>.</p>
<h3 id="arguments-18"><a class="header" href="#arguments-18">Arguments</a></h3>
<ul>
<li><code>[NODE_NAME]</code> (optional)<br/>
Name of the node</li>
</ul>
<h3 id="options-32"><a class="header" href="#options-32">Options</a></h3>
<ul>
<li><code>-f</code>, <code>--force</code> (optional)<br/>
Whether to use the SIGTERM or SIGKILL signal to stop the node</li>
</ul>
<h3 id="examples-30"><a class="header" href="#examples-30">Examples</a></h3>
<pre><code class="language-sh"># To stop the default node sending a SIGTERM signal
$ ockam node stop

# To stop the given node sending a SIGKILL signal
$ ockam node stop n --force
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="node-default"><a class="header" href="#node-default">node default</a></h2>
<hr />
<p><code>ockam node default [NODE_NAME] </code></p>
<p>This command will change the default node. The default node is used by most of the commands when none is specified.</p>
<h3 id="arguments-19"><a class="header" href="#arguments-19">Arguments</a></h3>
<ul>
<li><code>[NODE_NAME]</code> (optional)<br/>
Name of the node to set as default</li>
</ul>
<h3 id="examples-31"><a class="header" href="#examples-31">Examples</a></h3>
<pre><code class="language-sh"># The first created node will be set as the default node
$ ockam node create n1

# Let's create a second node and assign it as default
$ ockam node create n2
$ ockam node default n2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-worker"><a class="header" href="#ockam-worker">ockam worker</a></h2>
<hr />
<p><code>ockam worker &lt;COMMAND&gt; </code></p>
<p>Ockam nodes run very lightweight, concurrent, stateful actors called Ockam Workers. Workers have addresses and a node can deliver messages to workers on the same node or on a different node using the Ockam Routing Protocol and its Transports. One or more workers can work as a team to offer a service.</p>
<h3 id="subcommands-8"><a class="header" href="#subcommands-8">Subcommands</a></h3>
<ul>
<li><a href="ockam-worker-list.html">list</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="worker-list"><a class="header" href="#worker-list">worker list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam worker list [OPTIONS] </code></p>
<p>When creating a new node, a set of default services are started. This command lists all the available workers on a given node, which can be helpful to check if all the services are running, or to check the workers' addresses associated to secure channels or relays created by the node.</p>
<h3 id="options-33"><a class="header" href="#options-33">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Node at which to lookup workers</li>
</ul>
<h3 id="examples-32"><a class="header" href="#examples-32">Examples</a></h3>
<pre><code class="language-sh"># Create a node
$ ockam node create n1

# List the workers available in the node
$ ockam worker list --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-message"><a class="header" href="#ockam-message">ockam message</a></h2>
<hr />
<p><code>ockam message &lt;COMMAND&gt; </code></p>
<p>Send and receive messages</p>
<h3 id="subcommands-9"><a class="header" href="#subcommands-9">Subcommands</a></h3>
<ul>
<li><a href="ockam-message-send.html">send</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="message-send"><a class="header" href="#message-send">message send</a></h2>
<hr />
<p><code>ockam message send [OPTIONS] --to &lt;ROUTE&gt; &lt;MESSAGE&gt; </code></p>
<p>This command is used to send messages between Ockam nodes. In order to use this command, you need to specify at least the recipient of the message, which is an address to a service of an Ockam node. Optionally, you can specify the sender node. If not provided, a temporary node will be created for the duration of the command to perform the operation.</p>
<h3 id="arguments-20"><a class="header" href="#arguments-20">Arguments</a></h3>
<ul>
<li><code>&lt;MESSAGE&gt;</code></li>
</ul>
<h3 id="options-34"><a class="header" href="#options-34">Options</a></h3>
<ul>
<li>
<p><code>-f</code>, <code>--from [NODE]</code> (optional)<br/>
The node to send messages from</p>
</li>
<li>
<p><code>-t</code>, <code>--to &lt;ROUTE&gt;</code><br/>
The route to send the message to</p>
</li>
<li>
<p><code>--hex</code> (optional)<br/>
Flag to indicate that the message is hex encoded</p>
</li>
<li>
<p><code>--timeout [TIMEOUT]</code> (optional)<br/>
Override default timeout</p>
</li>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</p>
</li>
<li>
<p><code>--project [PROJECT_NAME]</code> (optional)<br/>
Project name to use for the command</p>
</li>
<li>
<p><code>--authority-identity [IDENTITY]</code> (optional)<br/>
Hex encoded Identity</p>
</li>
<li>
<p><code>--authority-route [AUTHORITY_ROUTE]</code> (optional)<br/>
Address to the Authority node</p>
</li>
<li>
<p><code>--expect-cached-credential</code> (optional)<br/>
Expect credential manually saved to the storage</p>
</li>
</ul>
<h3 id="examples-33"><a class="header" href="#examples-33">Examples</a></h3>
<pre><code class="language-sh"># Create two nodes
$ ockam node create n1
$ ockam node create n2

# Send a message to the uppercase service on node 2
$ ockam message send hello --to /node/n2/service/uppercase
HELLO

# A more verbose version of the above would be,
# assuming n2 started its tcp listener on port 4000.
$ ockam message send hello --to /ip4/127.0.0.1/tcp/4000/service/uppercase
HELLO

# Send a message to the uppercase service on node n2 from node n1
$ ockam message send hello --from /node/n1 --to /node/n2/service/uppercase
HELLO

# Create a secure channel from node n1 to the api service on node n2
# The /service/api is a secure channel listener that is started on every node
# Send a message through this encrypted channel to the uppercase service
$ ockam secure-channel create --from /node/n1 --to /node/n2/service/api \\
    | ockam message send hello --from /node/n1 --to -/service/uppercase
HELLO
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-relay"><a class="header" href="#ockam-relay">ockam relay</a></h2>
<hr />
<p><code>ockam relay &lt;COMMAND&gt; </code></p>
<p>Communication topologies often encounter situations where the machine providing a service cannot or will not open a listening port or expose a bridge node to other networks. This is a common security best practice in enterprise environments, home networks, OT networks, and VPCs across clouds. Application developers may not have control over these choices from the infrastructure/operations layer. In such cases, relays are useful.</p>
<p>Relays make it possible to establish end-to-end protocols with services operating in a remote private networks, without requiring a remote service to expose listening ports to an outside hostile network like the Internet.</p>
<h3 id="subcommands-10"><a class="header" href="#subcommands-10">Subcommands</a></h3>
<ul>
<li><a href="ockam-relay-create.html">create</a></li>
<li><a href="ockam-relay-list.html">list</a></li>
<li><a href="ockam-relay-show.html">show</a></li>
<li><a href="ockam-relay-delete.html">delete</a></li>
</ul>
<h3 id="examples-34"><a class="header" href="#examples-34">Examples</a></h3>
<pre><code class="language-sh"># Create two nodes blue and green
$ ockam node create blue
$ ockam node create green

# Create a relay to node blue at node green
$ ockam relay create blue --at /node/green --to /node/blue

# Send a message to the uppercase service on blue via its relay on green
$ ockam message send hello --to /node/green/service/forward_to_blue/service/uppercase
</code></pre>
<p>This can be very useful in establishing communication between applications that cannot otherwise reach each other over the network.</p>
<p>For instance, we can use relays to create an end-to-end secure channel between two nodes that are behind private NATs:</p>
<pre><code class="language-sh"># Create another node called yellow
$ ockam node create yellow

# Create an end-to-end secure channel between yellow and blue.
# This secure channel is created through blue's relay at green, and we can
# send end-to-end encrypted messages through it.
$ ockam secure-channel create --from /node/yellow --to /node/green/service/forward_to_blue/service/api \\
    | ockam message send hello --from /node/yellow --to -/service/uppercase
</code></pre>
<p>In this topology green acts as an encrypted relay between yellow and blue. Yellow and blue can be running in completely separate private networks. Green needs to be reachable from both yellow and blue and only sees encrypted traffic.</p>
<p>You can find more details within the documentation:</p>
<ul>
<li>https://docs.ockam.io/reference/command/advanced-routing#relays</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="relay-create"><a class="header" href="#relay-create">relay create</a></h2>
<hr />
<p><code>ockam relay create [OPTIONS] [RELAY_NAME] </code></p>
<p>Create a Relay. If no arguments are passed in, and you are enrolled in Orchestrator, then it creates a Relay at the default Orchestrator project, to the local default node.</p>
<h3 id="arguments-21"><a class="header" href="#arguments-21">Arguments</a></h3>
<ul>
<li><code>[RELAY_NAME]</code> (optional)<br/>
Name of the relay. If not provided, 'default' will be used</li>
</ul>
<h3 id="options-35"><a class="header" href="#options-35">Options</a></h3>
<ul>
<li>
<p><code>--to [NODE_NAME]</code> (optional)<br/>
Node for which to create the relay</p>
</li>
<li>
<p><code>--at [ROUTE]</code> (optional)<br/>
Route to the node at which to create the relay</p>
</li>
<li>
<p><code>--authorized [AUTHORIZED]</code> (optional)<br/>
Authorized identity for secure channel connection</p>
</li>
<li>
<p><code>--relay-address [RELAY_ADDRESS]</code> (optional)<br/>
Relay address to use. By default, inherits the relay name</p>
</li>
<li>
<p><code>--project-relay</code> (optional)<br/>
Whether the relay will be used to relay messages at a project. By default, this information will be inferred from the <code>--at</code> argument</p>
</li>
</ul>
<h3 id="examples-35"><a class="header" href="#examples-35">Examples</a></h3>
<pre><code class="language-sh">$ ockam relay create r --at n1 --to n2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="relay-list"><a class="header" href="#relay-list">relay list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam relay list [OPTIONS] </code></p>
<p>List Relays on your default node. If you pass '--to <NODE>' then it lists the Relays at the given node.</p>
<h3 id="options-36"><a class="header" href="#options-36">Options</a></h3>
<ul>
<li><code>--to [NODE]</code> (optional)<br/>
Get the list of Relays at the given node</li>
</ul>
<h3 id="examples-36"><a class="header" href="#examples-36">Examples</a></h3>
<pre><code class="language-sh">$ ockam relay list --to n2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="relay-show"><a class="header" href="#relay-show">relay show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam relay show [OPTIONS] [RELAY_NAME] </code></p>
<p>Show a Relay given its name</p>
<h3 id="arguments-22"><a class="header" href="#arguments-22">Arguments</a></h3>
<ul>
<li><code>[RELAY_NAME]</code> (optional)<br/>
Name assigned to the Relay</li>
</ul>
<h3 id="options-37"><a class="header" href="#options-37">Options</a></h3>
<ul>
<li><code>--at [NODE]</code> (optional)<br/>
Node which the relay belongs to</li>
</ul>
<h3 id="examples-37"><a class="header" href="#examples-37">Examples</a></h3>
<pre><code class="language-sh">$ ockam relay show forward_to_r --at n2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="relay-delete"><a class="header" href="#relay-delete">relay delete</a></h2>
<hr />
<p><code>ockam relay delete [OPTIONS] [RELAY_NAME] </code></p>
<p>Delete a Relay</p>
<h3 id="arguments-23"><a class="header" href="#arguments-23">Arguments</a></h3>
<ul>
<li><code>[RELAY_NAME]</code> (optional)<br/>
Name assigned to the Relay</li>
</ul>
<h3 id="options-38"><a class="header" href="#options-38">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE]</code> (optional)<br/>
Node on which to delete the Relay. If not provided, the default node will be used</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
</ul>
<h3 id="examples-38"><a class="header" href="#examples-38">Examples</a></h3>
<pre><code class="language-sh">$ ockam relay delete forward_to_r --at n2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-tcp-listener"><a class="header" href="#ockam-tcp-listener">ockam tcp-listener</a></h2>
<hr />
<p><code>ockam tcp-listener &lt;COMMAND&gt; </code></p>
<p>Manage TCP Listeners</p>
<h3 id="subcommands-11"><a class="header" href="#subcommands-11">Subcommands</a></h3>
<ul>
<li><a href="ockam-tcp-listener-create.html">create</a></li>
<li><a href="ockam-tcp-listener-delete.html">delete</a></li>
<li><a href="ockam-tcp-listener-list.html">list</a></li>
<li><a href="ockam-tcp-listener-show.html">show</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-listener-create"><a class="header" href="#tcp-listener-create">tcp-listener create</a></h2>
<hr />
<p><code>ockam tcp-listener create [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>Create tcp listener on the selected node</p>
<h3 id="arguments-24"><a class="header" href="#arguments-24">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Address for this listener (eg. 127.0.0.1:7000)</li>
</ul>
<h3 id="options-39"><a class="header" href="#options-39">Options</a></h3>
<ul>
<li><code>--at [NODE]</code> (optional)<br/>
Node at which to create the listener</li>
</ul>
<h3 id="examples-39"><a class="header" href="#examples-39">Examples</a></h3>
<pre><code class="language-sh"># To create a new TCP listener at the given address using the default node
$ ockam tcp-listener create 127.0.0.1:5000

# To create a new TCP listener at the given address using a specific node
$ ockam tcp-listener create 127.0.0.1:5000 --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-listener-delete"><a class="header" href="#tcp-listener-delete">tcp-listener delete</a></h2>
<hr />
<p><code>ockam tcp-listener delete [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>Delete tcp listener on the selected node</p>
<h3 id="arguments-25"><a class="header" href="#arguments-25">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
TCP Listener internal address</li>
</ul>
<h3 id="options-40"><a class="header" href="#options-40">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
</ul>
<h3 id="examples-40"><a class="header" href="#examples-40">Examples</a></h3>
<pre><code class="language-sh"># To delete a TCP listener given its internal address on the default node
$ ockam tcp-listener delete d59c01ab8d9683f8c454df746e627b43

# To delete a TCP listener given its socket address on the default node
$ ockam tcp-listener delete 127.0.0.1:5000

# To delete a TCP listener given its internal address on a specific node
$ ockam tcp-listener delete d59c01ab8d9683f8c454df746e627b43 --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-listener-list"><a class="header" href="#tcp-listener-list">tcp-listener list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam tcp-listener list [OPTIONS] </code></p>
<p>List tcp listeners registered on the selected node</p>
<h3 id="options-41"><a class="header" href="#options-41">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-41"><a class="header" href="#examples-41">Examples</a></h3>
<pre><code class="language-sh"># To list the TCP listeners on the default node
$ ockam tcp-listener list

# To list the TCP listeners on a specific node
$ ockam tcp-listener list --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-listener-show"><a class="header" href="#tcp-listener-show">tcp-listener show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam tcp-listener show [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>Show tcp listener details</p>
<h3 id="arguments-26"><a class="header" href="#arguments-26">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
TCP listener internal address or socket address</li>
</ul>
<h3 id="options-42"><a class="header" href="#options-42">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-42"><a class="header" href="#examples-42">Examples</a></h3>
<pre><code class="language-sh"># To show a TCP listener given its internal address
$ ockam tcp-listener show d59c01ab8d9683f8c454df746e627b43

# To show a TCP listener given its socket address
$ ockam tcp-listener show 127.0.0.1:5000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-tcp-connection"><a class="header" href="#ockam-tcp-connection">ockam tcp-connection</a></h2>
<hr />
<p><code>ockam tcp-connection &lt;COMMAND&gt; </code></p>
<p>Manage TCP Connections</p>
<h3 id="subcommands-12"><a class="header" href="#subcommands-12">Subcommands</a></h3>
<ul>
<li><a href="ockam-tcp-connection-create.html">create</a></li>
<li><a href="ockam-tcp-connection-delete.html">delete</a></li>
<li><a href="ockam-tcp-connection-list.html">list</a></li>
<li><a href="ockam-tcp-connection-show.html">show</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-connection-create"><a class="header" href="#tcp-connection-create">tcp-connection create</a></h2>
<hr />
<p><code>ockam tcp-connection create [OPTIONS] --to &lt;ADDRESS&gt; </code></p>
<p>Create a TCP connection</p>
<h3 id="options-43"><a class="header" href="#options-43">Options</a></h3>
<ul>
<li>
<p><code>-f</code>, <code>--from [NODE]</code> (optional)<br/>
Node that will initiate the connection</p>
</li>
<li>
<p><code>-t</code>, <code>--to &lt;ADDRESS&gt;</code><br/>
The address to connect to</p>
</li>
</ul>
<h3 id="examples-43"><a class="header" href="#examples-43">Examples</a></h3>
<pre><code class="language-sh"># To create a new TCP connection at the given address using the default node
$ ockam tcp-connection create --to 127.0.0.1:5000

# To create a new TCP connection at the given address using a specific node
$ ockam tcp-connection create --from n1 --to 127.0.0.1:5000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-connection-delete"><a class="header" href="#tcp-connection-delete">tcp-connection delete</a></h2>
<hr />
<p><code>ockam tcp-connection delete [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>Delete a TCP connection</p>
<h3 id="arguments-27"><a class="header" href="#arguments-27">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
TCP connection internal address or socket address</li>
</ul>
<h3 id="options-44"><a class="header" href="#options-44">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
</ul>
<h3 id="examples-44"><a class="header" href="#examples-44">Examples</a></h3>
<pre><code class="language-sh"># To delete a TCP connection given its internal address on the default node
$ ockam tcp-connection delete d59c01ab8d9683f8c454df746e627b43

# To delete a TCP connection given its socket address on the default node
$ ockam tcp-connection delete 127.0.0.1:5000

# To delete a TCP connection given its internal address on a specific node
$ ockam tcp-connection delete d59c01ab8d9683f8c454df746e627b43 --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-connection-list"><a class="header" href="#tcp-connection-list">tcp-connection list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam tcp-connection list [OPTIONS] </code></p>
<p>List TCP connections</p>
<h3 id="options-45"><a class="header" href="#options-45">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-45"><a class="header" href="#examples-45">Examples</a></h3>
<pre><code class="language-sh"># To list the TCP connections on the default node
$ ockam tcp-connection list

# To list the TCP connections on a specific node
$ ockam tcp-connection list --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-connection-show"><a class="header" href="#tcp-connection-show">tcp-connection show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam tcp-connection show [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>Show a TCP connection</p>
<h3 id="arguments-28"><a class="header" href="#arguments-28">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
TCP connection internal address or socket address</li>
</ul>
<h3 id="options-46"><a class="header" href="#options-46">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-46"><a class="header" href="#examples-46">Examples</a></h3>
<pre><code class="language-sh"># To show a TCP connection given its internal address
$ ockam tcp-connection show d59c01ab8d9683f8c454df746e627b43

# To show a TCP connection given its socket address
$ ockam tcp-connection show 127.0.0.1:5000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-tcp-outlet"><a class="header" href="#ockam-tcp-outlet">ockam tcp-outlet</a></h2>
<hr />
<p><code>ockam tcp-outlet &lt;COMMAND&gt; </code></p>
<p>A TCP Inlet and TCP Outlet together form a portal, working hand in hand with Relays. A TCP Inlet defines where a node, running on another machine, listens for connections. The Inlet's route provides information on how to forward traffic to the Outlet (its address). Relays allow you to establish end-to-end protocols with services that operate in remote private networks.</p>
<p>When you create a TCP Outlet, on an Ockam node, running on your local machine, it makes the TCP service available to the Inlet, from a worker address. You must specify the TCP address of the server, to which your Outlet should send raw TCP traffic. You can also name your Outlet by giving it an alias.</p>
<p>A TCP Outlet runs adjacent to a TCP server. The Outlet unwraps Ockam messages and delivers the raw TCP messages to the TCP server. Conversely, it sends messages from the TCP server to the Inlet (refer to <code>ockam tcp-inlet</code> and <code>ockam relay</code>).</p>
<h3 id="subcommands-13"><a class="header" href="#subcommands-13">Subcommands</a></h3>
<ul>
<li><a href="ockam-tcp-outlet-create.html">create</a></li>
<li><a href="ockam-tcp-outlet-delete.html">delete</a></li>
<li><a href="ockam-tcp-outlet-list.html">list</a></li>
<li><a href="ockam-tcp-outlet-show.html">show</a></li>
</ul>
<h3 id="examples-47"><a class="header" href="#examples-47">Examples</a></h3>
<pre><code class="language-sh"># Create a target service, we'll use a simple http server for this example
$ python3 -m http.server --bind 127.0.0.1 5000

# Create two nodes
$ ockam node create n1
$ ockam node create n2

# Create a TCP outlet from n1 to the target server
$ ockam tcp-outlet create --at /node/n1 --to 127.0.0.1:5000

# Create a TCP inlet from n2 to the outlet on n1
$ ockam tcp-inlet create --at /node/n2 --from 127.0.0.1:6000 --to /node/n1/service/outlet

# Access the service via the inlet/outlet pair
$ curl 127.0.0.1:6000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-outlet-create"><a class="header" href="#tcp-outlet-create">tcp-outlet create</a></h2>
<hr />
<p><code>ockam tcp-outlet create [OPTIONS] --to &lt;SOCKET_ADDRESS&gt; </code></p>
<p>Create a TCP Outlet that runs adjacent to a TCP server. The Outlet unwraps Ockam messages and delivers the raw TCP messages to the TCP server.</p>
<p>You must specify the TCP address of the server, that your Outlet should send raw TCP traffic to. You can also name your Outlet by giving it an alias.</p>
<p>When you create a TCP Outlet, on an Ockam node, running on your local machine, it makes the TCP server available from a worker address, to the corresponding TCP Inlet (see <code>ockam tcp-inlet</code>).</p>
<h3 id="options-47"><a class="header" href="#options-47">Options</a></h3>
<ul>
<li>
<p><code>--to &lt;SOCKET_ADDRESS&gt;</code><br/>
TCP address where your TCP server is running. Your Outlet will send raw TCP traffic to it</p>
</li>
<li>
<p><code>--from [OUTLET_ADDRESS]</code> (optional)<br/>
Address of your TCP Outlet, which is part of a route that is used in other commands. This address must be unique. This address identifies the TCP Outlet worker, on the node, on your local machine. Examples are <code>/service/my-outlet</code> or <code>my-outlet</code>. If you don't provide it, <code>/service/outlet</code> will be used. You will need this address when you create a TCP Inlet (using <code>ockam tcp-inlet create --to &lt;OUTLET_ADDRESS&gt;</code>)</p>
</li>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Your TCP Outlet will be created on this node. If you don't provide it, the default node will be used</p>
</li>
<li>
<p><code>--allow [EXPRESSION]</code> (optional)<br/>
Policy expression that will be used for access control to the TCP Outlet. If you don't provide it, the policy set for the "tcp-outlet" resource type will be used</p>
</li>
</ul>
<h3 id="examples-48"><a class="header" href="#examples-48">Examples</a></h3>
<pre><code class="language-sh"># To create a new TCP Outlet to the TCP server, using the default node
$ ockam tcp-outlet create --to 127.0.0.1:5000

# To create a new TCP Outlet at the given address, to the TCP server
$ ockam tcp-outlet create --to 127.0.0.1:5000 --from payroll-db-outlet

# To create a new TCP Outlet to the TCP server, using a specific node
$ ockam tcp-outlet create --at n1 --to 127.0.0.1:5000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-outlet-delete"><a class="header" href="#tcp-outlet-delete">tcp-outlet delete</a></h2>
<hr />
<p><code>ockam tcp-outlet delete [OPTIONS] [ALIAS] </code></p>
<p>Delete a TCP Outlet. This does not delete any TCP Inlets or Relays that you may have created, you can use <code>ockam tcp-inlet delete</code> and <code>ockam relay delete</code> to delete them.</p>
<h3 id="arguments-29"><a class="header" href="#arguments-29">Arguments</a></h3>
<ul>
<li><code>[ALIAS]</code> (optional)<br/>
Delete the Outlet with this alias name. If you don't provide an alias, you will be prompted to select from a list of available Outlets to delete</li>
</ul>
<h3 id="options-48"><a class="header" href="#options-48">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Run the delete command, without prompting for confirmation. This is useful for scripts</p>
</li>
<li>
<p><code>-a</code>, <code>--all</code> (optional)<br/>
Delete all the TCP Outlets</p>
</li>
</ul>
<h3 id="examples-49"><a class="header" href="#examples-49">Examples</a></h3>
<pre><code class="language-sh"># To delete a TCP outlet given its alias on the default node
$ ockam tcp-outlet delete myoutlet

# To delete a TCP outlet given its alias on a specific node
$ ockam tcp-outlet delete myoutlet --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-outlet-list"><a class="header" href="#tcp-outlet-list">tcp-outlet list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam tcp-outlet list [OPTIONS] </code></p>
<p>List all the TCP Outlets at a given node, and provide limited information about each Outlet. For detailed information about each Outlet, use <code>ockam tcp-outlet show</code>. If you don't specify a node using the <code>--at</code> option, the TCP Outlets on the default node will be listed.</p>
<h3 id="options-49"><a class="header" href="#options-49">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-50"><a class="header" href="#examples-50">Examples</a></h3>
<pre><code class="language-sh"># To list the TCP outlets on the default node
$ ockam tcp-outlet list

# To list the TCP outlets on a specific node
$ ockam tcp-outlet list --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-outlet-show"><a class="header" href="#tcp-outlet-show">tcp-outlet show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam tcp-outlet show [OPTIONS] [ALIAS] </code></p>
<p>Show detailed information on TCP Outlets</p>
<h3 id="arguments-30"><a class="header" href="#arguments-30">Arguments</a></h3>
<ul>
<li><code>[ALIAS]</code> (optional)<br/>
Show detailed information about the Outlet that has this alias. If you don't provide an alias, you will be prompted to select from a list of available Outlets to show</li>
</ul>
<h3 id="options-50"><a class="header" href="#options-50">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Show Outlet at the specified node. If you don't provide it, the default node will be used</li>
</ul>
<h3 id="examples-51"><a class="header" href="#examples-51">Examples</a></h3>
<pre><code class="language-sh"># To show a TCP Outlet given its alias
$ ockam tcp-outlet show myoutlet

# To display a list of available TCP Outlets to show
$ ockam tcp-outlet show
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-tcp-inlet"><a class="header" href="#ockam-tcp-inlet">ockam tcp-inlet</a></h2>
<hr />
<p><code>ockam tcp-inlet &lt;COMMAND&gt; </code></p>
<p>A TCP inlet is a way of defining where a node should be listening for connections, and where it should forward that traffic to. It is one end (tcp-outlet being the other) of a portal, which receives TCP data, chunks and wraps them into Ockam Routing messages and sends them along the supplied route.</p>
<h3 id="subcommands-14"><a class="header" href="#subcommands-14">Subcommands</a></h3>
<ul>
<li><a href="ockam-tcp-inlet-create.html">create</a></li>
<li><a href="ockam-tcp-inlet-delete.html">delete</a></li>
<li><a href="ockam-tcp-inlet-list.html">list</a></li>
<li><a href="ockam-tcp-inlet-show.html">show</a></li>
</ul>
<h3 id="examples-52"><a class="header" href="#examples-52">Examples</a></h3>
<pre><code class="language-sh"># Create a target service, we'll use a simple http server for this example
$ python3 -m http.server --bind 127.0.0.1 5000

# Create two nodes
$ ockam node create n1
$ ockam node create n2

# Create a TCP outlet from n1 to the target server
$ ockam tcp-outlet create --at /node/n1 --to 127.0.0.1:5000

# Create a TCP inlet from n2 to the outlet on n1
$ ockam tcp-inlet create --at /node/n2 --from 127.0.0.1:6000 --to /node/n1/service/outlet

# Access the service via the inlet/outlet pair
$ curl 127.0.0.1:6000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-inlet-create"><a class="header" href="#tcp-inlet-create">tcp-inlet create</a></h2>
<hr />
<p><code>ockam tcp-inlet create [OPTIONS] </code></p>
<p>Create TCP Inlets</p>
<h3 id="options-51"><a class="header" href="#options-51">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Node on which to start the TCP Inlet</p>
</li>
<li>
<p><code>--from [SOCKET_ADDRESS]</code> (optional)<br/>
Address on which to accept TCP connections</p>
</li>
<li>
<p><code>--to [ROUTE]</code> (optional)<br/>
Route to a TCP Outlet or the name of the TCP Outlet service you want to connect to</p>
</li>
<li>
<p><code>--via [RELAY_NAME]</code> (optional)<br/>
Name of the relay that this TCP Inlet will use to connect to the TCP Outlet</p>
</li>
<li>
<p><code>--authorized [AUTHORIZED]</code> (optional)<br/>
Authorized identity for secure channel connection</p>
</li>
<li>
<p><code>--alias [ALIAS]</code> (optional)<br/>
Assign a name to this TCP Inlet</p>
</li>
<li>
<p><code>--allow [EXPRESSION]</code> (optional)<br/>
Policy expression that will be used for access control to the TCP Inlet. If you don't provide it, the policy set for the "tcp-inlet" resource type will be used</p>
</li>
<li>
<p><code>--connection-wait [WAIT]</code> (optional)<br/>
Time to wait for the outlet to be available</p>
</li>
<li>
<p><code>--retry-wait [RETRY]</code> (optional)<br/>
Time to wait before retrying to connect to the TCP Outlet</p>
</li>
<li>
<p><code>--timeout [TIMEOUT]</code> (optional)<br/>
Override default timeout</p>
</li>
<li>
<p><code>--no-connection-wait</code> (optional)<br/>
Create the TCP Inlet without waiting for the TCP Outlet to connect</p>
</li>
</ul>
<h3 id="examples-53"><a class="header" href="#examples-53">Examples</a></h3>
<pre><code class="language-sh"># To create a new TCP inlet at the given address using the default node
$ ockam tcp-inlet create --from 127.0.0.1:5000 --to /node/n1/service/outlet

# To create a new TCP inlet at the given address using a specific node
$ ockam tcp-inlet create --at n2 --from 127.0.0.1:5000 --to /node/n1/service/outlet
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-inlet-delete"><a class="header" href="#tcp-inlet-delete">tcp-inlet delete</a></h2>
<hr />
<p><code>ockam tcp-inlet delete [OPTIONS] [ALIAS] </code></p>
<p>Delete a TCP Inlet</p>
<h3 id="arguments-31"><a class="header" href="#arguments-31">Arguments</a></h3>
<ul>
<li><code>[ALIAS]</code> (optional)<br/>
Delete the inlet with this alias</li>
</ul>
<h3 id="options-52"><a class="header" href="#options-52">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
<li>
<p><code>-a</code>, <code>--all</code> (optional)<br/>
Delete all the TCP Inlet</p>
</li>
</ul>
<h3 id="examples-54"><a class="header" href="#examples-54">Examples</a></h3>
<pre><code class="language-sh"># To delete a TCP inlet given its alias on the default node
$ ockam tcp-inlet delete myinlet

# To delete a TCP inlet given its alias on a specific node
$ ockam tcp-inlet delete myinlet --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-inlet-list"><a class="header" href="#tcp-inlet-list">tcp-inlet list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam tcp-inlet list [OPTIONS] </code></p>
<p>List TCP Inlets on the default node</p>
<h3 id="options-53"><a class="header" href="#options-53">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-55"><a class="header" href="#examples-55">Examples</a></h3>
<pre><code class="language-sh"># To list the TCP inlets on the default node
$ ockam tcp-inlet list

# To list the TCP inlets on a specific node
$ ockam tcp-inlet list --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="tcp-inlet-show"><a class="header" href="#tcp-inlet-show">tcp-inlet show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam tcp-inlet show [OPTIONS] &lt;ALIAS&gt; </code></p>
<p>Show a TCP Inlet's details</p>
<h3 id="arguments-32"><a class="header" href="#arguments-32">Arguments</a></h3>
<ul>
<li><code>&lt;ALIAS&gt;</code><br/>
Name of the inlet</li>
</ul>
<h3 id="options-54"><a class="header" href="#options-54">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-56"><a class="header" href="#examples-56">Examples</a></h3>
<pre><code class="language-sh"># To show a TCP inlet given its alias
$ ockam tcp-inlet show myinlet
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-kafka-outlet"><a class="header" href="#ockam-kafka-outlet">ockam kafka-outlet</a></h2>
<hr />
<p><code>ockam kafka-outlet &lt;COMMAND&gt; </code></p>
<p>Manage Kafka Outlets</p>
<h3 id="subcommands-15"><a class="header" href="#subcommands-15">Subcommands</a></h3>
<ul>
<li><a href="ockam-kafka-outlet-create.html">create</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-outlet-create"><a class="header" href="#kafka-outlet-create">kafka-outlet create</a></h2>
<hr />
<p><code>ockam kafka-outlet create [OPTIONS] </code></p>
<p>Create a new Kafka Outlet</p>
<h3 id="options-55"><a class="header" href="#options-55">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>--addr [ADDR]</code> (optional)<br/>
The local address of the service</p>
</li>
<li>
<p><code>--bootstrap-server [BOOTSTRAP_SERVER]</code> (optional)<br/>
The address of the kafka bootstrap broker</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-kafka-consumer"><a class="header" href="#ockam-kafka-consumer">ockam kafka-consumer</a></h2>
<hr />
<p><code>ockam kafka-consumer &lt;COMMAND&gt; </code></p>
<p>Manage Kafka Consumers</p>
<h3 id="subcommands-16"><a class="header" href="#subcommands-16">Subcommands</a></h3>
<ul>
<li><a href="ockam-kafka-consumer-create.html">create</a></li>
<li><a href="ockam-kafka-consumer-delete.html">delete</a></li>
<li><a href="ockam-kafka-consumer-list.html">list</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-consumer-create"><a class="header" href="#kafka-consumer-create">kafka-consumer create</a></h2>
<hr />
<p><code>ockam kafka-consumer create [OPTIONS] </code></p>
<p>Create a new Kafka Consumer. Kafka clients v3.7.0 and earlier are supported. You can find the version you have with 'kafka-console-consumer.sh --version'</p>
<h3 id="options-56"><a class="header" href="#options-56">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>--addr [ADDR]</code> (optional)<br/>
The local address of the service</p>
</li>
<li>
<p><code>--bootstrap-server [BOOTSTRAP_SERVER]</code> (optional)<br/>
The address where to bind and where the client will connect to alongside its port, <address>:<port>. In case just a port is specified, the default loopback address (127.0.0.1) will be used</p>
</li>
<li>
<p><code>--brokers-port-range [BROKERS_PORT_RANGE]</code> (optional)<br/>
Local port range dynamically allocated to kafka brokers, must not overlap with the bootstrap port</p>
</li>
<li>
<p><code>--project-route [PROJECT_ROUTE]</code> (optional)<br/>
The route to the project in ockam orchestrator, expected something like /project/<name></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-consumer-delete"><a class="header" href="#kafka-consumer-delete">kafka-consumer delete</a></h2>
<hr />
<p><code>ockam kafka-consumer delete [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>Delete a Kafka Consumer</p>
<h3 id="arguments-33"><a class="header" href="#arguments-33">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Kafka consumer service address</li>
</ul>
<h3 id="options-57"><a class="header" href="#options-57">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-57"><a class="header" href="#examples-57">Examples</a></h3>
<pre><code class="language-sh"># To delete a kafka consumers on the default node
$ ockam kafka-consumer delete kcaddr

# To delete a kafka consumers on a specific node
$ ockam kafka-consumer delete kcaddr --at n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-consumer-list"><a class="header" href="#kafka-consumer-list">kafka-consumer list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam kafka-consumer list [OPTIONS] </code></p>
<p>List Kafka Consumers</p>
<h3 id="options-58"><a class="header" href="#options-58">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-58"><a class="header" href="#examples-58">Examples</a></h3>
<pre><code class="language-sh"># To list the kafka consumers on the default node
$ ockam kafka-consumer list

# To list the kafka consumers on a specific node
$ ockam kafka-consumer list --at n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-kafka-direct"><a class="header" href="#ockam-kafka-direct">ockam kafka-direct</a></h2>
<hr />
<p><code>ockam kafka-direct &lt;COMMAND&gt; </code></p>
<p>Manage Kafka Consumers</p>
<h3 id="subcommands-17"><a class="header" href="#subcommands-17">Subcommands</a></h3>
<ul>
<li><a href="ockam-kafka-direct-create.html">create</a></li>
<li><a href="ockam-kafka-direct-delete.html">delete</a></li>
<li><a href="ockam-kafka-direct-list.html">list</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-direct-create"><a class="header" href="#kafka-direct-create">kafka-direct create</a></h2>
<hr />
<p><code>ockam kafka-direct create [OPTIONS] </code></p>
<p>Create a new Kafka Direct Consumer</p>
<h3 id="options-59"><a class="header" href="#options-59">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>--addr [ADDR]</code> (optional)<br/>
The local address of the service</p>
</li>
<li>
<p><code>--bind-address [BIND_ADDRESS]</code> (optional)<br/>
The address where to bind and where the client will connect to alongside its port, <address>:<port>. In case just a port is specified, the default loopback address (127.0.0.1) will be used</p>
</li>
<li>
<p><code>--bootstrap-server [BOOTSTRAP_SERVER]</code> (optional)<br/>
The address of the kafka bootstrap broker</p>
</li>
<li>
<p><code>--brokers-port-range [BROKERS_PORT_RANGE]</code> (optional)<br/>
Local port range dynamically allocated to kafka brokers, must not overlap with the bootstrap port</p>
</li>
<li>
<p><code>--consumer-route [CONSUMER_ROUTE]</code> (optional)<br/>
The route to another kafka consumer node</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-direct-delete"><a class="header" href="#kafka-direct-delete">kafka-direct delete</a></h2>
<hr />
<p><code>ockam kafka-direct delete [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>Delete a Kafka Consumer</p>
<h3 id="arguments-34"><a class="header" href="#arguments-34">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Kafka consumer service address</li>
</ul>
<h3 id="options-60"><a class="header" href="#options-60">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-59"><a class="header" href="#examples-59">Examples</a></h3>
<pre><code class="language-sh"># To delete a kafka consumers on the default node
$ ockam kafka-consumer delete kcaddr

# To delete a kafka consumers on a specific node
$ ockam kafka-consumer delete kcaddr --at n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-direct-list"><a class="header" href="#kafka-direct-list">kafka-direct list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam kafka-direct list [OPTIONS] </code></p>
<p>List Kafka Consumers</p>
<h3 id="options-61"><a class="header" href="#options-61">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-60"><a class="header" href="#examples-60">Examples</a></h3>
<pre><code class="language-sh"># To list the kafka consumers on the default node
$ ockam kafka-consumer list

# To list the kafka consumers on a specific node
$ ockam kafka-consumer list --at n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-kafka-producer"><a class="header" href="#ockam-kafka-producer">ockam kafka-producer</a></h2>
<hr />
<p><code>ockam kafka-producer &lt;COMMAND&gt; </code></p>
<p>Manage Kafka Producers</p>
<h3 id="subcommands-18"><a class="header" href="#subcommands-18">Subcommands</a></h3>
<ul>
<li><a href="ockam-kafka-producer-create.html">create</a></li>
<li><a href="ockam-kafka-producer-delete.html">delete</a></li>
<li><a href="ockam-kafka-producer-list.html">list</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-producer-create"><a class="header" href="#kafka-producer-create">kafka-producer create</a></h2>
<hr />
<p><code>ockam kafka-producer create [OPTIONS] </code></p>
<p>Create a new Kafka Producer. Kafka clients v3.7.0 and earlier are supported. You can find the version you have with 'kafka-console-producer.sh --version'</p>
<h3 id="options-62"><a class="header" href="#options-62">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>--addr [ADDR]</code> (optional)<br/>
The local address of the service</p>
</li>
<li>
<p><code>--bootstrap-server [BOOTSTRAP_SERVER]</code> (optional)<br/>
The address where to bind and where the client will connect to alongside its port, <address>:<port>. In case just a port is specified, the default loopback address (127.0.0.1) will be used</p>
</li>
<li>
<p><code>--brokers-port-range [BROKERS_PORT_RANGE]</code> (optional)<br/>
Local port range dynamically allocated to kafka brokers, must not overlap with the bootstrap port</p>
</li>
<li>
<p><code>--project-route [PROJECT_ROUTE]</code> (optional)<br/>
The route to the project in ockam orchestrator, expected something like /project/<name></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-producer-delete"><a class="header" href="#kafka-producer-delete">kafka-producer delete</a></h2>
<hr />
<p><code>ockam kafka-producer delete [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>Delete a Kafka Producer</p>
<h3 id="arguments-35"><a class="header" href="#arguments-35">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Kafka producer service address</li>
</ul>
<h3 id="options-63"><a class="header" href="#options-63">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-61"><a class="header" href="#examples-61">Examples</a></h3>
<pre><code class="language-sh"># To delete a kafka producers on the default node
$ ockam kafka-producer delete kcaddr

# To delete a kafka producers on a specific node
$ ockam kafka-producer delete kcaddr --at n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kafka-producer-list"><a class="header" href="#kafka-producer-list">kafka-producer list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam kafka-producer list [OPTIONS] </code></p>
<p>List Kafka Producers</p>
<h3 id="options-64"><a class="header" href="#options-64">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-62"><a class="header" href="#examples-62">Examples</a></h3>
<pre><code class="language-sh"># To list the kafka producers on the default node
$ ockam kafka-producer list

# To list the kafka producers on a specific node
$ ockam kafka-producer list --at n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-secure-channel-listener"><a class="header" href="#ockam-secure-channel-listener">ockam secure-channel-listener</a></h2>
<hr />
<p><code>ockam secure-channel-listener &lt;COMMAND&gt; </code></p>
<p>Manage Secure Channel Listeners</p>
<h3 id="subcommands-19"><a class="header" href="#subcommands-19">Subcommands</a></h3>
<ul>
<li><a href="ockam-secure-channel-listener-create.html">create</a></li>
<li><a href="ockam-secure-channel-listener-delete.html">delete</a></li>
<li><a href="ockam-secure-channel-listener-list.html">list</a></li>
<li><a href="ockam-secure-channel-listener-show.html">show</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="secure-channel-listener-create"><a class="header" href="#secure-channel-listener-create">secure-channel-listener create</a></h2>
<hr />
<p><code>ockam secure-channel-listener create [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>All nodes are created with a secure channel listener at <code>/service/api</code>.</p>
<p>You can use this command to start a custom listener with a specific name and authorization policies.</p>
<h3 id="arguments-36"><a class="header" href="#arguments-36">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Address for this listener</li>
</ul>
<h3 id="options-65"><a class="header" href="#options-65">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>-a</code>, <code>--authorized [IDENTIFIERS]</code> (optional)<br/>
Authorized Identifiers of secure channel initiators</p>
</li>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Name of the Identity that the secure-channel listener will use If it is different from the default node identity</p>
</li>
</ul>
<h3 id="examples-63"><a class="header" href="#examples-63">Examples</a></h3>
<pre><code class="language-sh">$ ockam node create n1
$ ockam node create n2

# Create a secure channel listener with a custom name on the default node
$ ockam secure-channel-listener create test --at n2
  ✔ Secure Channel Listener at /service/test created successfully
  At node /node/n2

# Create a secure channel from n1 to our test secure channel listener on n2
$ ockam secure-channel create --from /node/n1 --to /node/n2/service/api
  ✔ Secure Channel at /service/5c2a940cf008783cfd8d7012e772d674 created successfully
  From /node/n1 to /node/n2/service/api
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="secure-channel-listener-delete"><a class="header" href="#secure-channel-listener-delete">secure-channel-listener delete</a></h2>
<hr />
<p><code>ockam secure-channel-listener delete [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>This command will delete a secure channel listener from a node. The user must pass the secure channel listener address and, optionally, the node where the secure channel was set up. Otherwise, the default node will be used.</p>
<p>Once deleted, it can't be recovered and a new one must be set up.</p>
<h3 id="arguments-37"><a class="header" href="#arguments-37">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Address at which the channel listener to be deleted is running</li>
</ul>
<h3 id="options-66"><a class="header" href="#options-66">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-64"><a class="header" href="#examples-64">Examples</a></h3>
<pre><code class="language-sh">$ ockam secure-channel-listener delete 8eb3bfc8a6419f24c05ddd627d144bec --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="secure-channel-listener-list"><a class="header" href="#secure-channel-listener-list">secure-channel-listener list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam secure-channel-listener list [OPTIONS] </code></p>
<p>This command will list all the secure channel listeners available in a node. If the node is not provided, the default node will be used.</p>
<h3 id="options-67"><a class="header" href="#options-67">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-65"><a class="header" href="#examples-65">Examples</a></h3>
<pre><code class="language-sh">$ ockam secure-channel-listener list --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="secure-channel-listener-show"><a class="header" href="#secure-channel-listener-show">secure-channel-listener show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam secure-channel-listener show [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>This command will return the details of a secure channel listener. The user must pass the secure channel listener address and, optionally, the node where the secure channel was set up. Otherwise, the default node will be used.</p>
<h3 id="arguments-38"><a class="header" href="#arguments-38">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Address of the channel listener</li>
</ul>
<h3 id="options-68"><a class="header" href="#options-68">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<h3 id="examples-66"><a class="header" href="#examples-66">Examples</a></h3>
<pre><code class="language-sh">$ ockam secure-channel-listener show 8eb3bfc8a6419f24c05ddd627d144bec --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-secure-channel"><a class="header" href="#ockam-secure-channel">ockam secure-channel</a></h2>
<hr />
<p><code>ockam secure-channel &lt;COMMAND&gt; </code></p>
<p>Ockam Secure Channels is an end-to-end protocol built on top of Ockam Routing. This cryptographic protocol guarantees data authenticity, integrity, and confidentiality over any communication topology that can be traversed with Ockam Routing.</p>
<h3 id="subcommands-20"><a class="header" href="#subcommands-20">Subcommands</a></h3>
<ul>
<li><a href="ockam-secure-channel-create.html">create</a></li>
<li><a href="ockam-secure-channel-delete.html">delete</a></li>
<li><a href="ockam-secure-channel-list.html">list</a></li>
<li><a href="ockam-secure-channel-show.html">show</a></li>
</ul>
<h3 id="examples-67"><a class="header" href="#examples-67">Examples</a></h3>
<p>You can find more details and examples in the documentation:</p>
<ul>
<li>https://docs.ockam.io/reference/command/secure-channels</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="secure-channel-create"><a class="header" href="#secure-channel-create">secure-channel create</a></h2>
<hr />
<p><code>ockam secure-channel create [OPTIONS] --from &lt;NODE&gt; --to &lt;ROUTE&gt; </code></p>
<p>When a secure channel is created between two nodes they mutually authenticate each other using their Ockam Identity. Once the channel is created, you can send messages through through it using the returned address.</p>
<h3 id="options-69"><a class="header" href="#options-69">Options</a></h3>
<ul>
<li>
<p><code>--from &lt;NODE&gt;</code><br/>
Node from which to initiate the secure channel</p>
</li>
<li>
<p><code>--to &lt;ROUTE&gt;</code><br/>
Route to a secure channel listener</p>
</li>
<li>
<p><code>-a</code>, <code>--authorized [IDENTIFIER]</code> (optional)<br/>
Identifiers authorized to be presented by the listener</p>
</li>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Run the command as the given Identity name</p>
</li>
</ul>
<h3 id="examples-68"><a class="header" href="#examples-68">Examples</a></h3>
<p>Every node, created with Ockam Command, starts a secure channel listener at address /service/api. Let's create a secure channel between two nodes and send a message from one node to another.</p>
<pre><code class="language-sh">$ ockam node create a
$ ockam node create b
$ ockam secure-channel create --from a --to /node/b/service/api
  ✔ Secure Channel at /service/a2b1a2275d02308a7920499b5f49e4ee created successfully
  From /node/n1 to /node/n2/service/api

$ ockam message send hello --from a --to /service/d92ef0aea946ec01cdbccc5b9d3f2e16/service/uppercase
HELLO
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="secure-channel-delete"><a class="header" href="#secure-channel-delete">secure-channel delete</a></h2>
<hr />
<p><code>ockam secure-channel delete [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>This command will delete a secure channel from a node. The user must pass the secure channel address and, optionally, the node where the secure channel was set up. Otherwise, the default node will be used.</p>
<p>Once deleted, it can't be recovered and a new one must be set up.</p>
<h3 id="arguments-39"><a class="header" href="#arguments-39">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Address at which the channel to be deleted is running</li>
</ul>
<h3 id="options-70"><a class="header" href="#options-70">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE]</code> (optional)<br/>
Node at which the secure channel was initiated</p>
</li>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
</ul>
<h3 id="examples-69"><a class="header" href="#examples-69">Examples</a></h3>
<pre><code class="language-sh">$ ockam secure-channel delete 8eb3bfc8a6419f24c05ddd627d144bec --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="secure-channel-list"><a class="header" href="#secure-channel-list">secure-channel list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam secure-channel list [OPTIONS] </code></p>
<p>This command will list all the secure channels available in a node. If the node is not provided, the default node will be used.</p>
<h3 id="options-71"><a class="header" href="#options-71">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Node at which the returned secure channels were initiated</li>
</ul>
<h3 id="examples-70"><a class="header" href="#examples-70">Examples</a></h3>
<pre><code class="language-sh">$ ockam secure-channel list --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="secure-channel-show"><a class="header" href="#secure-channel-show">secure-channel show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam secure-channel show [OPTIONS] &lt;ADDRESS&gt; </code></p>
<p>This command will return the details of a secure channel. The user must pass the secure channel address and, optionally, the node where the secure channel was set up. Otherwise, the default node will be used.</p>
<h3 id="arguments-40"><a class="header" href="#arguments-40">Arguments</a></h3>
<ul>
<li><code>&lt;ADDRESS&gt;</code><br/>
Channel address</li>
</ul>
<h3 id="options-72"><a class="header" href="#options-72">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Node at which the secure channel was initiated</li>
</ul>
<h3 id="examples-71"><a class="header" href="#examples-71">Examples</a></h3>
<pre><code class="language-sh">$ ockam secure-channel show 8eb3bfc8a6419f24c05ddd627d144bec --at n1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-vault"><a class="header" href="#ockam-vault">ockam vault</a></h2>
<hr />
<p><code>ockam vault &lt;COMMAND&gt; </code></p>
<p>A vault is a secure storage location for secret keys belonging to Ockam identities. Ockam Vaults safely store these secret keys in cryptographic hardware and cloud key management systems.</p>
<p>Vaults are designed to be used in a way that secret keys never have to leave a vault. There is a growing base of Ockam Vault implementations in the Ockam Github Repository that safely store secret keys in specific KMSs, HSMs, Secure Enclaves etc.</p>
<h3 id="subcommands-21"><a class="header" href="#subcommands-21">Subcommands</a></h3>
<ul>
<li><a href="ockam-vault-create.html">create</a></li>
<li><a href="ockam-vault-move.html">move</a></li>
<li><a href="ockam-vault-show.html">show</a></li>
<li><a href="ockam-vault-delete.html">delete</a></li>
<li><a href="ockam-vault-list.html">list</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="vault-create"><a class="header" href="#vault-create">vault create</a></h2>
<hr />
<p><code>ockam vault create [OPTIONS] [NAME] </code></p>
<p>This command will create a new vault. By default, it creates a file system based vault, where Ockam Identities are stored at a specific file path.</p>
<h3 id="arguments-41"><a class="header" href="#arguments-41">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)</li>
</ul>
<h3 id="options-73"><a class="header" href="#options-73">Options</a></h3>
<ul>
<li><code>--path [PATH]</code> (optional)</li>
<li><code>--aws-kms</code> (optional)</li>
</ul>
<h3 id="examples-72"><a class="header" href="#examples-72">Examples</a></h3>
<pre><code class="language-sh"># To create a new vault with a random name
$ ockam vault create

# To create a new vault with a specific name
$ ockam vault create v
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="vault-move"><a class="header" href="#vault-move">vault move</a></h2>
<hr />
<p><code>ockam vault move --path &lt;PATH&gt; &lt;NAME&gt; </code></p>
<p>This command will move an existing vault file to a new path:</p>
<ul>
<li>the vault needs to exist</li>
<li>the vault data should not be stored in the main database</li>
<li>the vault path should exist</li>
<li>the new vault path should not exist</li>
</ul>
<h3 id="arguments-42"><a class="header" href="#arguments-42">Arguments</a></h3>
<ul>
<li><code>&lt;NAME&gt;</code></li>
</ul>
<h3 id="options-74"><a class="header" href="#options-74">Options</a></h3>
<ul>
<li><code>--path &lt;PATH&gt;</code></li>
</ul>
<h3 id="examples-73"><a class="header" href="#examples-73">Examples</a></h3>
<pre><code class="language-sh"># To move a vault to a new path
$ ockam vault move my_vault --path new/path
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="vault-show"><a class="header" href="#vault-show">vault show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam vault show [NAME] </code></p>
<p>This command will show the details of a given vault, including its name, path and type.</p>
<h3 id="arguments-43"><a class="header" href="#arguments-43">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)<br/>
Name of the vault</li>
</ul>
<h3 id="examples-74"><a class="header" href="#examples-74">Examples</a></h3>
<pre><code class="language-sh"># To show the default vault
$ ockam vault show

# To show a specific vault
$ ockam vault show v1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="vault-delete"><a class="header" href="#vault-delete">vault delete</a></h2>
<hr />
<p><code>ockam vault delete [OPTIONS] [NAME] </code></p>
<p>This command will delete the specified vault. Note that the identities stored in the vault will become unusable. Use this command with caution.</p>
<h3 id="arguments-44"><a class="header" href="#arguments-44">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)<br/>
Name of the vault</li>
</ul>
<h3 id="options-75"><a class="header" href="#options-75">Options</a></h3>
<ul>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
<li>
<p><code>-a</code>, <code>--all</code> (optional)</p>
</li>
</ul>
<h3 id="examples-75"><a class="header" href="#examples-75">Examples</a></h3>
<pre><code class="language-sh"># To delete a vault given its name
$ ockam vault delete v
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="vault-list"><a class="header" href="#vault-list">vault list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam vault list </code></p>
<p>This command will show the details of all the available vaults.</p>
<h3 id="examples-76"><a class="header" href="#examples-76">Examples</a></h3>
<pre><code class="language-sh">$ ockam vault list
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-identity"><a class="header" href="#ockam-identity">ockam identity</a></h2>
<hr />
<p><code>ockam identity &lt;COMMAND&gt; </code></p>
<p>Ockam Identities are unique, cryptographically verifiable digital identities. These identities authenticate by proving possession of secret keys and are stored in Ockam Vaults. Each Ockam Identity has a unique public identifier, called the Ockam Identifier of this identity.</p>
<h3 id="subcommands-22"><a class="header" href="#subcommands-22">Subcommands</a></h3>
<ul>
<li><a href="ockam-identity-create.html">create</a></li>
<li><a href="ockam-identity-show.html">show</a></li>
<li><a href="ockam-identity-list.html">list</a></li>
<li><a href="ockam-identity-default.html">default</a></li>
<li><a href="ockam-identity-delete.html">delete</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="identity-create"><a class="header" href="#identity-create">identity create</a></h2>
<hr />
<p><code>ockam identity create [OPTIONS] [NAME] </code></p>
<p>This command will create a new identity. It will create a vault if none exists and will be assigned as the default for the system.</p>
<h3 id="arguments-45"><a class="header" href="#arguments-45">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)</li>
</ul>
<h3 id="options-76"><a class="header" href="#options-76">Options</a></h3>
<ul>
<li>
<p><code>--vault [VAULT_NAME]</code> (optional)<br/>
Vault name to store the identity key</p>
</li>
<li>
<p><code>-k</code>, <code>--key-id [KEY_ID]</code> (optional)<br/>
Key ID to use for the identity creation</p>
</li>
<li>
<p><code>--identity [IDENTITY]</code> (optional)<br/>
Identity to import in hex format</p>
</li>
</ul>
<h3 id="examples-77"><a class="header" href="#examples-77">Examples</a></h3>
<pre><code class="language-sh"># To create a new identity with a random name
$ ockam identity create

# To create a new identity with a specific name
$ ockam identity create i

# To create a new identity for a specific vault
$ ockam identity create --vault v
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="identity-show"><a class="header" href="#identity-show">identity show</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam identity show [OPTIONS] [NAME] </code></p>
<p>This command will show the identifier of a given identity. If the <code>--full</code> flag is passed, it will show the change history of the identity.</p>
<h3 id="arguments-46"><a class="header" href="#arguments-46">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)</li>
</ul>
<h3 id="options-77"><a class="header" href="#options-77">Options</a></h3>
<ul>
<li>
<p><code>-f</code>, <code>--full</code> (optional)<br/>
Show the full identity history, and not just the identifier or the name</p>
</li>
<li>
<p><code>--encoding [ENCODING]</code> (optional)</p>
</li>
</ul>
<h3 id="examples-78"><a class="header" href="#examples-78">Examples</a></h3>
<pre><code class="language-sh"># To show the default identity
$ ockam identity show

# To show a specific identity
$ ockam identity show i

# To show the full details
$ ockam identity show --full
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="identity-list"><a class="header" href="#identity-list">identity list</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam identity list </code></p>
<p>This command will show the details of all the available identities.</p>
<h3 id="examples-79"><a class="header" href="#examples-79">Examples</a></h3>
<pre><code class="language-sh">$ ockam identity list
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="identity-default"><a class="header" href="#identity-default">identity default</a></h2>
<hr />
<p><code>ockam identity default [NAME] </code></p>
<p>This command will change the default identity. The default identity is used when creating a node if not specified otherwise.</p>
<h3 id="arguments-47"><a class="header" href="#arguments-47">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)<br/>
Name of the identity to be set as default</li>
</ul>
<h3 id="examples-80"><a class="header" href="#examples-80">Examples</a></h3>
<pre><code class="language-sh"># The first created identity will be set as the default identity
$ ockam identity create i1

# Let's create a second identity and assign it as default
$ ockam identity create i2
$ ockam identity default i2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="identity-delete"><a class="header" href="#identity-delete">identity delete</a></h2>
<hr />
<p><code>ockam identity delete [OPTIONS] [NAME] </code></p>
<p>This command will delete the specified identity. If a running node is using that identity, it won't be deleted and an error will be raised.</p>
<h3 id="arguments-48"><a class="header" href="#arguments-48">Arguments</a></h3>
<ul>
<li><code>[NAME]</code> (optional)<br/>
Name of the identity to be deleted</li>
</ul>
<h3 id="options-78"><a class="header" href="#options-78">Options</a></h3>
<ul>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</p>
</li>
<li>
<p><code>-a</code>, <code>--all</code> (optional)</p>
</li>
</ul>
<h3 id="examples-81"><a class="header" href="#examples-81">Examples</a></h3>
<pre><code class="language-sh"># To delete an identity given its name
$ ockam identity delete i
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-credential"><a class="header" href="#ockam-credential">ockam credential</a></h2>
<hr />
<p><code>ockam credential &lt;COMMAND&gt; </code></p>
<p>Manage Credentials</p>
<h3 id="subcommands-23"><a class="header" href="#subcommands-23">Subcommands</a></h3>
<ul>
<li><a href="ockam-credential-list.html">list</a></li>
<li><a href="ockam-credential-issue.html">issue</a></li>
<li><a href="ockam-credential-store.html">store</a></li>
<li><a href="ockam-credential-verify.html">verify</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="credential-list"><a class="header" href="#credential-list">credential list</a></h2>
<hr />
<p><code>ockam credential list [OPTIONS] </code></p>
<h3 id="options-79"><a class="header" href="#options-79">Options</a></h3>
<ul>
<li>
<p><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</p>
</li>
<li>
<p><code>--subject [SUBJECT]</code> (optional)<br/>
Subject Identifier</p>
</li>
<li>
<p><code>--issuer [ISSUER]</code> (optional)<br/>
Issuer Identifier</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="credential-issue"><a class="header" href="#credential-issue">credential issue</a></h2>
<hr />
<p><code>ockam credential issue [OPTIONS] --for &lt;IDENTIFIER&gt; [VAULT_NAME] </code></p>
<h3 id="arguments-49"><a class="header" href="#arguments-49">Arguments</a></h3>
<ul>
<li><code>[VAULT_NAME]</code> (optional)<br/>
Name of the Vault that will be used to issue the credential</li>
</ul>
<h3 id="options-80"><a class="header" href="#options-80">Options</a></h3>
<ul>
<li>
<p><code>--as [IDENTITY_NAME]</code> (optional)<br/>
Name of the Identity to be used as the credential issuer</p>
</li>
<li>
<p><code>--for &lt;IDENTIFIER&gt;</code></p>
</li>
<li>
<p><code>-a</code>, <code>--attribute [ATTRIBUTE]</code> (optional)<br/>
Attributes in <code>key=value</code> format to be attached to the member</p>
</li>
<li>
<p><code>--encoding [ENCODE_FORMAT]</code> (optional)<br/>
Encoding Format</p>
</li>
<li>
<p><code>--ttl [TTL]</code> (optional)</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="credential-store"><a class="header" href="#credential-store">credential store</a></h2>
<hr />
<p><code>ockam credential store [OPTIONS] --issuer &lt;IDENTIFIER&gt; </code></p>
<h3 id="options-81"><a class="header" href="#options-81">Options</a></h3>
<ul>
<li><code>--issuer &lt;IDENTIFIER&gt;</code></li>
<li><code>--credential [CREDENTIAL_STRING]</code> (optional)</li>
<li><code>--credential-path [CREDENTIAL_FILE]</code> (optional)</li>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="credential-verify"><a class="header" href="#credential-verify">credential verify</a></h2>
<hr />
<p><code>ockam credential verify [OPTIONS] --issuer &lt;IDENTIFIER&gt; </code></p>
<h3 id="options-82"><a class="header" href="#options-82">Options</a></h3>
<ul>
<li><code>--issuer &lt;IDENTIFIER&gt;</code></li>
<li><code>--credential [CREDENTIAL_STRING]</code> (optional)</li>
<li><code>--credential-path [CREDENTIAL_FILE]</code> (optional)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-authority"><a class="header" href="#ockam-authority">ockam authority</a></h2>
<hr />
<p><code>ockam authority &lt;COMMAND&gt; </code></p>
<p>An Ockam Authority node is an Ockam node running a limited set of services used by other nodes to:</p>
<ul>
<li>issue credentials</li>
<li>create enrollment tokens</li>
<li>accept enrollment tokens</li>
<li>authenticate identities as project members</li>
</ul>
<p>Those services are accessible by creating a secure channel over a TCP connection.</p>
<h3 id="subcommands-24"><a class="header" href="#subcommands-24">Subcommands</a></h3>
<ul>
<li><a href="ockam-authority-create.html">create</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="authority-create"><a class="header" href="#authority-create">authority create</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam authority create [OPTIONS] --project-identifier &lt;PROJECT_IDENTIFIER&gt; --trusted-identities &lt;JSON_OBJECT&gt; [NODE_NAME] </code></p>
<p>This command starts an authority node with the needed services to issue and verify cryptographically signed credentials.</p>
<h3 id="arguments-50"><a class="header" href="#arguments-50">Arguments</a></h3>
<ul>
<li><code>[NODE_NAME]</code> (optional)<br/>
Name of the node</li>
</ul>
<h3 id="options-83"><a class="header" href="#options-83">Options</a></h3>
<ul>
<li>
<p><code>-f</code>, <code>--foreground</code> (optional)<br/>
Run the node in foreground</p>
</li>
<li>
<p><code>-s</code>, <code>--skip-is-running-check</code> (optional)<br/>
Skip the check if such node is already running. Useful for kubernetes when the pid is the same on each run</p>
</li>
<li>
<p><code>--child-process</code> (optional)<br/>
<code>authority create</code> started a child process to run this node in foreground</p>
</li>
<li>
<p><code>-t</code>, <code>--tcp-listener-address [SOCKET_ADDRESS]</code> (optional)<br/>
TCP listener address</p>
</li>
<li>
<p><code>--identity [IDENTITY_NAME]</code> (optional)<br/>
Name of the Identity that the authority will use</p>
</li>
<li>
<p><code>--project-identifier &lt;PROJECT_IDENTIFIER&gt;</code><br/>
Identifier of the project associated to this authority node on the Orchestrator</p>
</li>
<li>
<p><code>--trusted-identities &lt;JSON_OBJECT&gt;</code><br/>
List of the trusted identities, and corresponding attributes to be preload in the attributes storage. Format: {"identifier1": {"attribute1": "value1", "attribute2": "value12"}, ...}</p>
</li>
<li>
<p><code>--no-direct-authentication</code> (optional)<br/>
Set this option if the authority node should not support the enrollment of new project members</p>
</li>
<li>
<p><code>--no-token-enrollment</code> (optional)<br/>
Set this option if the authority node should not support the issuing of enrollment tokens</p>
</li>
<li>
<p><code>--tenant-base-url [URL]</code> (optional)<br/>
Okta: URL used for accessing the Okta API</p>
</li>
<li>
<p><code>--certificate [STRING]</code> (optional)<br/>
Okta: pem certificate used to access the Okta server</p>
</li>
<li>
<p><code>--attributes [ATTRIBUTE_NAMES]</code> (optional)<br/>
Okta: name of the attributes which can be retrieved from Okta</p>
</li>
<li>
<p><code>--account-authority [ACCOUNT_AUTHORITY_CHANGE_HISTORY]</code> (optional)<br/>
Full, hex-encoded Identity (change history) of the account authority to trust for account and project administrator credentials</p>
</li>
<li>
<p><code>--enforce-admin-checks</code> (optional)<br/>
Enforce distintion between admins and enrollers</p>
</li>
</ul>
<h3 id="examples-82"><a class="header" href="#examples-82">Examples</a></h3>
<pre><code class="language-sh"># Create an authority node which can be accessed by users of project 93c6455c5f
# The default node name is 'authority'.
$ ockam authority create \
    --tcp-listener-address 127.0.0.1:4200 \
    --project-identifier 93c6455c5f \
    --trusted-identities "[{\"identifier\": \"I6c20e814b56579306f55c64e8747e6c1b4a53d9a3f4ca83c252cc2fbfc72fa94\", \"attributes\": {\"ockam-role\": \"enroller\"}}]"

# Delete an authority node
$ ockam node delete authority
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-policy"><a class="header" href="#ockam-policy">ockam policy</a></h2>
<hr />
<p><code>ockam policy &lt;COMMAND&gt; </code></p>
<h3 id="subcommands-25"><a class="header" href="#subcommands-25">Subcommands</a></h3>
<ul>
<li><a href="ockam-policy-create.html">create</a></li>
<li><a href="ockam-policy-show.html">show</a></li>
<li><a href="ockam-policy-delete.html">delete</a></li>
<li><a href="ockam-policy-list.html">list</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="policy-create"><a class="header" href="#policy-create">policy create</a></h2>
<hr />
<p><code>ockam policy create [OPTIONS] --expression &lt;EXPRESSION&gt; </code></p>
<h3 id="options-84"><a class="header" href="#options-84">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)</li>
<li><code>--resource-type [RESOURCE_TYPE]</code> (optional)</li>
<li><code>--resource [RESOURCE]</code> (optional)</li>
<li><code>--expression &lt;EXPRESSION&gt;</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="policy-show"><a class="header" href="#policy-show">policy show</a></h2>
<hr />
<p><code>ockam policy show [OPTIONS] [RESOURCE] </code></p>
<h3 id="arguments-51"><a class="header" href="#arguments-51">Arguments</a></h3>
<ul>
<li><code>[RESOURCE]</code> (optional)</li>
</ul>
<h3 id="options-85"><a class="header" href="#options-85">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="policy-delete"><a class="header" href="#policy-delete">policy delete</a></h2>
<hr />
<p><code>ockam policy delete [OPTIONS] [RESOURCE] </code></p>
<h3 id="arguments-52"><a class="header" href="#arguments-52">Arguments</a></h3>
<ul>
<li><code>[RESOURCE]</code> (optional)</li>
</ul>
<h3 id="options-86"><a class="header" href="#options-86">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)</li>
<li><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the deletion without prompting</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="policy-list"><a class="header" href="#policy-list">policy list</a></h2>
<hr />
<p><code>ockam policy list [OPTIONS] [RESOURCE] </code></p>
<h3 id="arguments-53"><a class="header" href="#arguments-53">Arguments</a></h3>
<ul>
<li><code>[RESOURCE]</code> (optional)</li>
</ul>
<h3 id="options-87"><a class="header" href="#options-87">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-lease"><a class="header" href="#ockam-lease">ockam lease</a></h2>
<hr />
<p><code>ockam lease [OPTIONS] &lt;COMMAND&gt; </code></p>
<h3 id="subcommands-26"><a class="header" href="#subcommands-26">Subcommands</a></h3>
<ul>
<li><a href="ockam-lease-create.html">create</a></li>
<li><a href="ockam-lease-list.html">list</a></li>
<li><a href="ockam-lease-show.html">show</a></li>
<li><a href="ockam-lease-revoke.html">revoke</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="lease-create"><a class="header" href="#lease-create">lease create</a></h2>
<hr />
<p><code>ockam lease create </code></p>
<p>Create a token within the lease token manager</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="lease-list"><a class="header" href="#lease-list">lease list</a></h2>
<hr />
<p><code>ockam lease list </code></p>
<p>List tokens within the lease token manager</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="lease-show"><a class="header" href="#lease-show">lease show</a></h2>
<hr />
<p><code>ockam lease show --token-id &lt;TOKEN_ID&gt; </code></p>
<p>Show detailed token information within the lease token manager</p>
<h3 id="options-88"><a class="header" href="#options-88">Options</a></h3>
<ul>
<li><code>-t</code>, <code>--token-id &lt;TOKEN_ID&gt;</code><br/>
ID of the token to retrieve</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="lease-revoke"><a class="header" href="#lease-revoke">lease revoke</a></h2>
<hr />
<p><code>ockam lease revoke --token-id &lt;TOKEN_ID&gt; </code></p>
<p>Revoke a token within the lease token manager</p>
<h3 id="options-89"><a class="header" href="#options-89">Options</a></h3>
<ul>
<li><code>-t</code>, <code>--token-id &lt;TOKEN_ID&gt;</code><br/>
ID of the token to revoke</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-status"><a class="header" href="#ockam-status">ockam status</a></h2>
<hr />
<p><code>ockam status [OPTIONS] </code></p>
<p>Display information about the system's status</p>
<h3 id="options-90"><a class="header" href="#options-90">Options</a></h3>
<ul>
<li>
<p><code>-a</code>, <code>--all</code> (optional)<br/>
Show status for all identities; default: enrolled only</p>
</li>
<li>
<p><code>--timeout [TIMEOUT]</code> (optional)<br/>
Override the default timeout</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-reset"><a class="header" href="#ockam-reset">ockam reset</a></h2>
<hr />
<p><code>ockam reset [OPTIONS] </code></p>
<p>Removes the local Ockam configuration including all Identities and Nodes</p>
<h3 id="options-91"><a class="header" href="#options-91">Options</a></h3>
<ul>
<li>
<p><code>-y</code>, <code>--yes</code> (optional)<br/>
Confirm the reset without prompting</p>
</li>
<li>
<p><code>--all</code> (optional)<br/>
Remove your spaces from the Orchestrator</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-completion"><a class="header" href="#ockam-completion">ockam completion</a></h2>
<hr />
<div class="chip t"><b>Preview</b><div class="tt"><p>Preview features are available for use, but are still under rapid development.</p><p></p><p>There may be some minor gaps in functionality or documentation.</p><p></p><p>Your feedback on the enhancements you'd like to see on this feature are especially valuable, please send them through at https://github.com/build-trust/ockam/discussions/new</p></div></div>
<p><code>ockam completion --shell &lt;SHELL&gt; </code></p>
<p>Generate shell completion scripts for Ockam commands.</p>
<p>If you’ve installed <code>ockam</code> command using a package manager, you likely
don't need to do any additional shell configuration to gain completion support.</p>
<p>If you need to set up completions manually, follow the instructions below.
The exact configuration file locations might vary based on your system. Remember
to restart your shell before testing whether completions are working.</p>
<h3 id="options-92"><a class="header" href="#options-92">Options</a></h3>
<ul>
<li><code>-s</code>, <code>--shell &lt;SHELL&gt;</code><br/>
The type of shell</li>
</ul>
<h3 id="examples-83"><a class="header" href="#examples-83">Examples</a></h3>
<p>The following steps outline how to build the Ockam completion file, where to store it, and what to expect from the process.</p>
<h4 id="build-the-completion-file"><a class="header" href="#build-the-completion-file">Build the Completion File</a></h4>
<p>Start by ensuring you have a valid directory available to store the completion files, depending on your operating system and shell:</p>
<ul>
<li>For Bash: <code>/usr/share/bash-completion/completions</code></li>
<li>For Zsh: <code>/usr/local/share/zsh/site-functions</code></li>
<li>For Fish: <code>~/.config/fish/completions</code></li>
</ul>
<p>If the directory doesn't exist, create it using the following command, replacing <code>{dir}</code> with the appropriate path:</p>
<pre><code class="language-sh">mkdir -p {dir}
</code></pre>
<p>Generate the completion file by executing the relevant command for your shell. The file name must match the specific name for each shell.</p>
<pre><code class="language-sh"># Bash
$ ockam completion --shell bash &gt; /usr/share/bash-completion/completions/ockam.bash

# Zsh
$ ockam completion --shell zsh &gt; /usr/local/share/zsh/site-functions/_ockam

# Fish
$ ockam completion --shell fish &gt; ~/.config/fish/completions/ockam.fish
</code></pre>
<h4 id="update-completion-cache"><a class="header" href="#update-completion-cache">Update Completion Cache</a></h4>
<p>After generating the completion file, it may be necessary to update your shell's completion cache to activate the changes:</p>
<pre><code class="language-sh">$ compinit
</code></pre>
<h4 id="expected-results"><a class="header" href="#expected-results">Expected Results</a></h4>
<p>Upon successfully completing the steps outlined above:</p>
<ul>
<li>The completion file will be generated according to the specified shell format.</li>
<li>The file will contain relevant completion definitions for Ockam commands and options.</li>
<li>The completion file will be saved in the designated directory for your shell.</li>
</ul>
<p>Congratulations! You have successfully created and integrated the Ockam completion file into your shell environment. As you type Ockam commands, you'll enjoy the convenience of auto-suggestions and completion.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-environment"><a class="header" href="#ockam-environment">ockam environment</a></h2>
<hr />
<p><code>ockam environment </code></p>
<p>Outputs information about environment variables used by the Ockam CLI</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ockam-flow-control"><a class="header" href="#ockam-flow-control">ockam flow-control</a></h2>
<hr />
<p><code>ockam flow-control &lt;COMMAND&gt; </code></p>
<h3 id="subcommands-27"><a class="header" href="#subcommands-27">Subcommands</a></h3>
<ul>
<li><a href="ockam-flow-control-add-consumer.html">add-consumer</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="flow-control-add-consumer"><a class="header" href="#flow-control-add-consumer">flow-control add-consumer</a></h2>
<hr />
<p><code>ockam flow-control add-consumer [OPTIONS] &lt;FLOW_CONTROL_ID&gt; &lt;ADDRESS&gt; </code></p>
<h3 id="arguments-54"><a class="header" href="#arguments-54">Arguments</a></h3>
<ul>
<li>
<p><code>&lt;FLOW_CONTROL_ID&gt;</code><br/>
Corresponding FlowControlId value</p>
</li>
<li>
<p><code>&lt;ADDRESS&gt;</code><br/>
Address of the Consumer</p>
</li>
</ul>
<h3 id="options-93"><a class="header" href="#options-93">Options</a></h3>
<ul>
<li><code>--at [NODE_NAME]</code> (optional)<br/>
Perform the command on the given node</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
